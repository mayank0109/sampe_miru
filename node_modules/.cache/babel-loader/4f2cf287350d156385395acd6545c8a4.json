{"ast":null,"code":"var _jsxFileName = \"/Users/mayankkhanna/Documents/miru-web/app/javascript/src/components/Projects/List/index.tsx\",\n    _this = this;\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nvar logger = require(\"js-logger\").get(\"@saeloun/miru-web:javascript:src:components:Projects:List:index.tsx\");\n\nimport React from \"react\";\nimport { ToastContainer } from \"react-toastify\";\nimport { setAuthHeaders, registerIntercepts } from \"apis/axios\";\nimport projectApi from \"apis/projects\";\nimport Header from \"./Header\";\nimport { Project } from \"./project\";\nimport { TOASTER_DURATION } from \"../../../constants/index\";\nimport AddEditProject from \"../Modals/AddEditProject\";\nimport DeleteProject from \"../Modals/DeleteProject\";\nexport var ProjectList = function ProjectList(_ref) {\n  var isAdminUser = _ref.isAdminUser;\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      showProjectModal = _React$useState2[0],\n      setShowProjectModal = _React$useState2[1];\n\n  var _React$useState3 = React.useState(false),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      showDeleteDialog = _React$useState4[0],\n      setShowDeleteDialog = _React$useState4[1];\n\n  var _React$useState5 = React.useState(null),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      editProjectData = _React$useState6[0],\n      setEditProjectData = _React$useState6[1];\n\n  var _React$useState7 = React.useState({}),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      deleteProjectData = _React$useState8[0],\n      setDeleteProjectData = _React$useState8[1];\n\n  var _React$useState9 = React.useState([]),\n      _React$useState10 = _slicedToArray(_React$useState9, 2),\n      projects = _React$useState10[0],\n      setProjects = _React$useState10[1];\n\n  var fetchProjects = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return projectApi.get();\n\n            case 3:\n              res = _context.sent;\n              setProjects(res.data.projects);\n              _context.next = 10;\n              break;\n\n            case 7:\n              _context.prev = 7;\n              _context.t0 = _context[\"catch\"](0);\n              console.log(_context.t0); // eslint-disable-line\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 7]]);\n    }));\n\n    return function fetchProjects() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  React.useEffect(function () {\n    setAuthHeaders();\n    registerIntercepts();\n    fetchProjects();\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(ToastContainer, {\n    autoClose: TOASTER_DURATION,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Header, {\n    setShowProjectModal: setShowProjectModal,\n    isAdminUser: isAdminUser,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex flex-col\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"overflow-hidden\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    className: \"min-w-full divide-y divide-gray-200 mt-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    className: \"table__header\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 21\n    }\n  }, \"PROJECT/CLIENT\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    className: \"table__header\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    className: \"table__header text-right\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 21\n    }\n  }, \"HOURS LOGGED\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    className: \"table__header\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    className: \"table__header\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 21\n    }\n  }))), /*#__PURE__*/React.createElement(\"tbody\", {\n    className: \"bg-white divide-y divide-gray-200\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 17\n    }\n  }, projects.map(function (project, index) {\n    return /*#__PURE__*/React.createElement(Project, Object.assign({\n      key: index\n    }, project, {\n      isAdminUser: isAdminUser,\n      setShowProjectModal: setShowProjectModal,\n      setEditProjectData: setEditProjectData,\n      setShowDeleteDialog: setShowDeleteDialog,\n      setDeleteProjectData: setDeleteProjectData,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 21\n      }\n    }));\n  }))))))), showProjectModal && /*#__PURE__*/React.createElement(AddEditProject, {\n    setShowProjectModal: setShowProjectModal,\n    setEditProjectData: setEditProjectData,\n    editProjectData: editProjectData,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  }), showDeleteDialog && /*#__PURE__*/React.createElement(DeleteProject, {\n    setShowDeleteDialog: setShowDeleteDialog,\n    project: deleteProjectData,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }\n  }));\n};\nexport default ProjectList;","map":{"version":3,"sources":["/Users/mayankkhanna/Documents/miru-web/app/javascript/src/components/Projects/List/index.tsx"],"names":["React","ToastContainer","setAuthHeaders","registerIntercepts","projectApi","Header","Project","TOASTER_DURATION","AddEditProject","DeleteProject","ProjectList","isAdminUser","useState","showProjectModal","setShowProjectModal","showDeleteDialog","setShowDeleteDialog","editProjectData","setEditProjectData","deleteProjectData","setDeleteProjectData","projects","setProjects","fetchProjects","get","res","data","console","log","useEffect","map","project","index"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { ToastContainer } from \"react-toastify\";\nimport { setAuthHeaders, registerIntercepts } from \"apis/axios\";\nimport projectApi from \"apis/projects\";\nimport Header from \"./Header\";\nimport { Project } from \"./project\";\nimport { TOASTER_DURATION } from \"../../../constants/index\";\nimport { IProject } from \"../interface\";\nimport AddEditProject from \"../Modals/AddEditProject\";\nimport DeleteProject from \"../Modals/DeleteProject\";\n\nexport const ProjectList = ({ isAdminUser }) => {\n\n  const [showProjectModal, setShowProjectModal] = React.useState<boolean>(false);\n  const [showDeleteDialog, setShowDeleteDialog] = React.useState<boolean>(false);\n  const [editProjectData, setEditProjectData] = React.useState<any>(null);\n  const [deleteProjectData, setDeleteProjectData] = React.useState({});\n  const [projects, setProjects] = React.useState<IProject[]>([]);\n\n  const fetchProjects = async () => {\n    try {\n      const res = await projectApi.get();\n      setProjects(res.data.projects);\n    } catch (e) {\n      console.log(e) // eslint-disable-line\n    }\n  };\n\n  React.useEffect(() => {\n    setAuthHeaders();\n    registerIntercepts();\n    fetchProjects();\n  }, []);\n\n  return (\n    <React.Fragment>\n      <ToastContainer autoClose={TOASTER_DURATION} />\n      <Header\n        setShowProjectModal={setShowProjectModal}\n        isAdminUser={isAdminUser}\n      />\n      <div className=\"flex flex-col\">\n        <div className=\"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8\">\n          <div className=\"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8\">\n            <div className=\"overflow-hidden\">\n              <table className=\"min-w-full divide-y divide-gray-200 mt-4\">\n                <thead>\n                  <tr>\n                    <th\n                      scope=\"col\"\n                      className=\"table__header\"\n                    >\n                      PROJECT/CLIENT\n                    </th>\n                    <th\n                      scope=\"col\"\n                      className=\"table__header\"\n                    >\n\n                    </th>\n                    <th\n                      scope=\"col\"\n                      className=\"table__header text-right\"\n                    >\n                      HOURS LOGGED\n                    </th>\n                    <th scope=\"col\" className=\"table__header\"></th>\n                    <th scope=\"col\" className=\"table__header\"></th>\n                  </tr>\n                </thead>\n                <tbody className=\"bg-white divide-y divide-gray-200\">\n                  {projects.map((project, index) => (\n                    <Project\n                      key={index}\n                      {...project}\n                      isAdminUser={isAdminUser}\n                      setShowProjectModal={setShowProjectModal}\n                      setEditProjectData={setEditProjectData}\n                      setShowDeleteDialog={setShowDeleteDialog}\n                      setDeleteProjectData={setDeleteProjectData}\n                    />\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {showProjectModal &&\n        <AddEditProject\n          setShowProjectModal={setShowProjectModal}\n          setEditProjectData={setEditProjectData}\n          editProjectData={editProjectData}\n        />\n      }\n      {showDeleteDialog && (\n        <DeleteProject\n          setShowDeleteDialog={setShowDeleteDialog}\n          project={deleteProjectData}\n        />\n      )}\n    </React.Fragment>\n  );\n};\n\nexport default ProjectList;\n"]},"metadata":{},"sourceType":"module"}