{"ast":null,"code":"var logger = require(\"js-logger\").get(\"@saeloun/miru-web:javascript:src:mapper:generateInvoice.mapper.ts\");\n\nimport dayjs from \"dayjs\";\n\nvar getClientList = function getClientList(clientList) {\n  return clientList.map(function (client) {\n    return {\n      address: client.address,\n      value: client.id,\n      label: client.name,\n      phone: client.phone_number,\n      email: client.email\n    };\n  });\n};\n\nvar getCompanyDetails = function getCompanyDetails(input) {\n  return input;\n};\n\nvar unmapGenerateInvoice = function unmapGenerateInvoice(input) {\n  var companyDetails = getCompanyDetails(input.company_details);\n  var clientList = getClientList(input.company_client_list);\n  return {\n    companyDetails: companyDetails,\n    clientList: clientList\n  };\n};\n\nvar mapGenerateInvoice = function mapGenerateInvoice(input) {\n  return {\n    client_id: input.selectedClient.value,\n    invoice_number: input.invoiceNumber,\n    reference: input.reference,\n    issue_date: dayjs(input.issueDate).format(\"DD.MM.YYYY\"),\n    due_date: dayjs(input.dueDate).format(\"DD.MM.YYYY\"),\n    amount_due: input.amountDue,\n    amount_paid: input.amountPaid,\n    amount: input.amount,\n    discount: input.discount,\n    tax: input.tax,\n    invoice_line_items_attributes: input.selectedOption.map(function (ilt) {\n      return {\n        name: \"\".concat(ilt.first_name, \" \").concat(ilt.last_name),\n        description: ilt.description,\n        date: ilt.date,\n        rate: ilt.rate,\n        quantity: ilt.qty,\n        timesheet_entry_id: ilt.timesheet_entry_id\n      };\n    })\n  };\n};\n\nexport { unmapGenerateInvoice, mapGenerateInvoice };","map":{"version":3,"sources":["/Users/mayankkhanna/Documents/miru-web/app/javascript/src/mapper/generateInvoice.mapper.ts"],"names":["dayjs","getClientList","clientList","map","client","address","value","id","label","name","phone","phone_number","email","getCompanyDetails","input","unmapGenerateInvoice","companyDetails","company_details","company_client_list","mapGenerateInvoice","client_id","selectedClient","invoice_number","invoiceNumber","reference","issue_date","issueDate","format","due_date","dueDate","amount_due","amountDue","amount_paid","amountPaid","amount","discount","tax","invoice_line_items_attributes","selectedOption","ilt","first_name","last_name","description","date","rate","quantity","qty","timesheet_entry_id"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AAmBA,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAACC,UAAD;AAAA,SAAkDA,UAAU,CAACC,GAAX,CAAe,UAAAC,MAAM;AAAA,WAAK;AAChGC,MAAAA,OAAO,EAAED,MAAM,CAACC,OADgF;AAEhGC,MAAAA,KAAK,EAAEF,MAAM,CAACG,EAFkF;AAGhGC,MAAAA,KAAK,EAAEJ,MAAM,CAACK,IAHkF;AAIhGC,MAAAA,KAAK,EAAEN,MAAM,CAACO,YAJkF;AAKhGC,MAAAA,KAAK,EAAER,MAAM,CAACQ;AALkF,KAAL;AAAA,GAArB,CAAlD;AAAA,CAAtB;;AAQA,IAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,CAACC,KAAD;AAAA,SAA2BA,KAA3B;AAAA,CAA1B;;AAEA,IAAMC,oBAAoB,GAAG,SAAvBA,oBAAuB,CAACD,KAAD,EAAW;AACtC,MAAME,cAAc,GAAGH,iBAAiB,CAACC,KAAK,CAACG,eAAP,CAAxC;AACA,MAAMf,UAAU,GAAGD,aAAa,CAACa,KAAK,CAACI,mBAAP,CAAhC;AACA,SAAO;AACLF,IAAAA,cAAc,EAAdA,cADK;AAELd,IAAAA,UAAU,EAAVA;AAFK,GAAP;AAID,CAPD;;AASA,IAAMiB,kBAAkB,GAAG,SAArBA,kBAAqB,CAACL,KAAD;AAAA,SAAY;AACrCM,IAAAA,SAAS,EAAEN,KAAK,CAACO,cAAN,CAAqBf,KADK;AAErCgB,IAAAA,cAAc,EAAER,KAAK,CAACS,aAFe;AAGrCC,IAAAA,SAAS,EAAEV,KAAK,CAACU,SAHoB;AAIrCC,IAAAA,UAAU,EAAEzB,KAAK,CAACc,KAAK,CAACY,SAAP,CAAL,CAAuBC,MAAvB,CAA8B,YAA9B,CAJyB;AAKrCC,IAAAA,QAAQ,EAAE5B,KAAK,CAACc,KAAK,CAACe,OAAP,CAAL,CAAqBF,MAArB,CAA4B,YAA5B,CAL2B;AAMrCG,IAAAA,UAAU,EAAEhB,KAAK,CAACiB,SANmB;AAOrCC,IAAAA,WAAW,EAAElB,KAAK,CAACmB,UAPkB;AAQrCC,IAAAA,MAAM,EAAEpB,KAAK,CAACoB,MARuB;AASrCC,IAAAA,QAAQ,EAAErB,KAAK,CAACqB,QATqB;AAUrCC,IAAAA,GAAG,EAAEtB,KAAK,CAACsB,GAV0B;AAWrCC,IAAAA,6BAA6B,EAAEvB,KAAK,CAACwB,cAAN,CAAqBnC,GAArB,CAAyB,UAAAoC,GAAG;AAAA,aAAK;AAC9D9B,QAAAA,IAAI,YAAK8B,GAAG,CAACC,UAAT,cAAuBD,GAAG,CAACE,SAA3B,CAD0D;AAE9DC,QAAAA,WAAW,EAAEH,GAAG,CAACG,WAF6C;AAG9DC,QAAAA,IAAI,EAAEJ,GAAG,CAACI,IAHoD;AAI9DC,QAAAA,IAAI,EAAEL,GAAG,CAACK,IAJoD;AAK9DC,QAAAA,QAAQ,EAAEN,GAAG,CAACO,GALgD;AAM9DC,QAAAA,kBAAkB,EAAER,GAAG,CAACQ;AANsC,OAAL;AAAA,KAA5B;AAXM,GAAZ;AAAA,CAA3B;;AAqBA,SACEhC,oBADF,EAEEI,kBAFF","sourcesContent":["import dayjs from \"dayjs\";\n\ninterface GenerateInvoiceClientList {\n  address: string;\n  id: number;\n  name: string;\n  phone_number: number;\n  email: string\n}\n\ninterface CompanyDetails {\n  address: string;\n  country: string;\n  id: number;\n  logo: string;\n  name: string;\n  phone_number: string;\n}\n\nconst getClientList = (clientList: Array<GenerateInvoiceClientList>) => clientList.map(client => ({\n  address: client.address,\n  value: client.id,\n  label: client.name,\n  phone: client.phone_number,\n  email: client.email\n}));\n\nconst getCompanyDetails = (input: CompanyDetails) => input;\n\nconst unmapGenerateInvoice = (input) => {\n  const companyDetails = getCompanyDetails(input.company_details);\n  const clientList = getClientList(input.company_client_list);\n  return {\n    companyDetails,\n    clientList\n  };\n};\n\nconst mapGenerateInvoice = (input) => ({\n  client_id: input.selectedClient.value,\n  invoice_number: input.invoiceNumber,\n  reference: input.reference,\n  issue_date: dayjs(input.issueDate).format(\"DD.MM.YYYY\"),\n  due_date: dayjs(input.dueDate).format(\"DD.MM.YYYY\"),\n  amount_due: input.amountDue,\n  amount_paid: input.amountPaid,\n  amount: input.amount,\n  discount: input.discount,\n  tax: input.tax,\n  invoice_line_items_attributes: input.selectedOption.map(ilt => ({\n    name: `${ilt.first_name} ${ilt.last_name}`,\n    description: ilt.description,\n    date: ilt.date,\n    rate: ilt.rate,\n    quantity: ilt.qty,\n    timesheet_entry_id: ilt.timesheet_entry_id\n  }))\n});\n\nexport {\n  unmapGenerateInvoice,\n  mapGenerateInvoice\n};\n"]},"metadata":{},"sourceType":"module"}