{"ast":null,"code":"var _jsxFileName = \"/app/app/javascript/src/components/Projects/Details/EditMembersListForm.tsx\",\n    _this = this;\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nvar logger = require(\"js-logger\").get(\"@saeloun/miru-web:javascript:src:components:Projects:Details:EditMembersListForm.tsx\");\n\nimport * as React from \"react\";\nimport { Trash } from \"phosphor-react\";\n\nvar EditMembersListForm = function EditMembersListForm(_ref) {\n  var members = _ref.members,\n      allMemberList = _ref.allMemberList,\n      updateMemberState = _ref.updateMemberState,\n      setMembers = _ref.setMembers,\n      handleSubmit = _ref.handleSubmit;\n  var anyError = false; // this is dummy atm\n\n  var removeMemberHandler = function removeMemberHandler(idx) {\n    setMembers(function (members) {\n      return members.filter(function (_, i) {\n        return i != idx;\n      });\n    });\n  };\n\n  var addNewMemberRowHandler = function addNewMemberRowHandler() {\n    setMembers(function (oldMembers) {\n      return [].concat(_toConsumableArray(oldMembers), [{}]);\n    });\n  };\n\n  var getMember = function getMember(member, idx) {\n    if (member.isExisting) {\n      return /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form__input\",\n        disabled: true,\n        value: member.name,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 17,\n          columnNumber: 14\n        }\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(\"select\", {\n      value: member.id,\n      name: member.id,\n      id: member.id,\n      disabled: member.isExisting,\n      className: \"w-full px-3 py-1 font-medium text-sm rounded bg-miru-gray-100 h-8 rounded-sm\",\n      onChange: function onChange(e) {\n        member.isExisting ? null : updateMemberState(idx, \"id\", parseInt(e.target.value));\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 9\n      }\n    }, \"Please select\"), allMemberList.map(function (memberFromAllMemberList) {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        key: memberFromAllMemberList.id,\n        value: memberFromAllMemberList.id,\n        hidden: memberFromAllMemberList.isAdded,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 11\n        }\n      }, memberFromAllMemberList.name);\n    }));\n  };\n\n  return /*#__PURE__*/React.createElement(\"form\", {\n    className: \"mt-7\",\n    onSubmit: handleSubmit,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"text-xs mb-4 text-miru-dark-purple-1000\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }\n  }, \"Team Members\"), members.map(function (member, idx) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flex items-center mb-2\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mr-2 w-56\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 11\n      }\n    }, getMember(member, idx)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mr-2 w-24\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      placeholder: \"Rate\",\n      className: \"form__input w-full \".concat(anyError ? \"border-red-600 focus:ring-red-600 focus:border-red-600\" : \"border-gray-100 focus:ring-miru-gray-1000 focus:border-miru-gray-1000\"),\n      type: \"number\",\n      name: member.hourlyRate,\n      id: member.hourlyRate,\n      value: member.hourlyRate,\n      onChange: function onChange(e) {\n        return updateMemberState(idx, \"hourlyRate\", e.target.value);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"w-6 text-right\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      onClick: function onClick() {\n        return removeMemberHandler(idx);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Trash, {\n      size: 15,\n      fill: \"#5B34EA\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 15\n      }\n    }))));\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"actions mt-4 text-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    name: \"add\",\n    className: \"text-miru-han-purple-1000 \",\n    type: \"button\",\n    onClick: addNewMemberRowHandler,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }, \"+ Add another team member\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"actions mt-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    name: \"commit\",\n    value: \"SAVE CHANGES\",\n    className: \"form__input_submit\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  })));\n};\n\nexport default EditMembersListForm;","map":{"version":3,"sources":["/app/app/javascript/src/components/Projects/Details/EditMembersListForm.tsx"],"names":["React","Trash","EditMembersListForm","members","allMemberList","updateMemberState","setMembers","handleSubmit","anyError","removeMemberHandler","idx","filter","_","i","addNewMemberRowHandler","oldMembers","getMember","member","isExisting","name","id","e","parseInt","target","value","map","memberFromAllMemberList","isAdded","hourlyRate"],"mappings":"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","sourcesContent":["import * as React from \"react\";\nimport { Trash } from \"phosphor-react\";\n\nconst EditMembersListForm = ({ members, allMemberList, updateMemberState, setMembers, handleSubmit }) => {\n  const anyError = false; // this is dummy atm\n\n  const removeMemberHandler = (idx) => {\n    setMembers(members => members.filter((_, i) => i != idx));\n  };\n\n  const addNewMemberRowHandler = () => {\n    setMembers(oldMembers => [...oldMembers, {}]);\n  };\n\n  const getMember = (member, idx) => {\n    if (member.isExisting) {\n      return <input type=\"text\" className=\"form__input\" disabled value={member.name} />;\n    }\n    return (\n      <select\n        value={member.id}\n        name={member.id}\n        id={member.id}\n        disabled={member.isExisting}\n        className=\"w-full px-3 py-1 font-medium text-sm rounded bg-miru-gray-100 h-8 rounded-sm\"\n        onChange={e => { member.isExisting ? null : updateMemberState(idx, \"id\", parseInt(e.target.value)); }}>\n        <option value=\"\">Please select</option>\n        {allMemberList.map((memberFromAllMemberList) => (\n          <option\n            key={memberFromAllMemberList.id}\n            value={memberFromAllMemberList.id}\n            hidden={memberFromAllMemberList.isAdded}>\n            {memberFromAllMemberList.name}\n          </option>\n        ))}\n      </select>\n    );\n  };\n\n  return (\n    <form className=\"mt-7\" onSubmit={handleSubmit}>\n      <h5 className=\"text-xs mb-4 text-miru-dark-purple-1000\">Team Members</h5>\n      {members.map((member, idx) => (\n        <div className=\"flex items-center mb-2\">\n          <div className=\"mr-2 w-56\">\n            {getMember(member, idx)}\n          </div>\n          <div className=\"mr-2 w-24\">\n            <input\n              placeholder=\"Rate\"\n              className={`form__input w-full ${anyError\n                ? \"border-red-600 focus:ring-red-600 focus:border-red-600\"\n                : \"border-gray-100 focus:ring-miru-gray-1000 focus:border-miru-gray-1000\"}`}\n              type=\"number\"\n              name={member.hourlyRate}\n              id={member.hourlyRate}\n              value={member.hourlyRate}\n              onChange={e => (updateMemberState(idx, \"hourlyRate\", e.target.value))}\n            />\n          </div>\n          <div className=\"w-6 text-right\">\n            <button type=\"button\"\n              onClick={() => removeMemberHandler(idx)}>\n              <Trash size={15} fill=\"#5B34EA\" />\n            </button>\n          </div>\n        </div>\n      ))}\n\n      <div className=\"actions mt-4 text-center\">\n        <button\n          name=\"add\"\n          className=\"text-miru-han-purple-1000 \"\n          type=\"button\"\n          onClick={addNewMemberRowHandler}\n        >\n          + Add another team member\n        </button>\n      </div>\n\n      <div className=\"actions mt-4\">\n        <input\n          type=\"submit\"\n          name=\"commit\"\n          value=\"SAVE CHANGES\"\n          className=\"form__input_submit\"\n        />\n      </div>\n    </form>\n  );\n};\n\nexport default EditMembersListForm;\n"]},"metadata":{},"sourceType":"module"}