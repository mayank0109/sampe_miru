{"ast":null,"code":"var logger = require(\"js-logger\").get(\"@saeloun/miru-web:javascript:src:components:Invoices:List:SendInvoice:utils.ts\");\n\nimport dayjs from \"dayjs\";\nimport { currencyFormat } from \"helpers/currency\";\nimport * as Yup from \"yup\";\nimport { ApiStatus as InvoiceStatus } from \"../../../../constants\";\nexport var isEmailValid = function isEmailValid(email) {\n  var schema = Yup.string().email();\n  return schema.isValidSync(email);\n};\nexport var emailSubject = function emailSubject(invoice) {\n  return \"\".concat(invoice.company.name, \" sent you an invoice (\").concat(invoice.invoiceNumber, \")\");\n};\nexport var emailBody = function emailBody(invoice) {\n  var formattedAmount = currencyFormat({\n    baseCurrency: invoice.company.baseCurrency,\n    amount: invoice.amount\n  });\n  var dueDate = dayjs(invoice.dueDate).format(invoice.company.dateFormat);\n  return \"\".concat(invoice.company.name, \" has sent you an invoice (\").concat(invoice.invoiceNumber, \") for \").concat(formattedAmount, \" that's due on \").concat(dueDate, \".\");\n};\nexport var isDisabled = function isDisabled(status) {\n  return status === InvoiceStatus.LOADING || status === InvoiceStatus.SUCCESS;\n};\nexport var buttonText = function buttonText(status) {\n  return status === InvoiceStatus.SUCCESS ? \"ðŸŽ‰  Invoice Sent!\" : \"Send Invoice\";\n};","map":{"version":3,"sources":["/Users/mayankkhanna/Documents/miru-web/app/javascript/src/components/Invoices/List/SendInvoice/utils.ts"],"names":["dayjs","currencyFormat","Yup","ApiStatus","InvoiceStatus","isEmailValid","email","schema","string","isValidSync","emailSubject","invoice","company","name","invoiceNumber","emailBody","formattedAmount","baseCurrency","amount","dueDate","format","dateFormat","isDisabled","status","LOADING","SUCCESS","buttonText"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,cAAT,QAA+B,kBAA/B;AACA,OAAO,KAAKC,GAAZ,MAAqB,KAArB;AACA,SAASC,SAAS,IAAIC,aAAtB,QAA2C,uBAA3C;AAEA,OAAO,IAAMC,YAAY,GAAG,SAAfA,YAAe,CAACC,KAAD,EAA4B;AACtD,MAAMC,MAAM,GAAGL,GAAG,CAACM,MAAJ,GAAaF,KAAb,EAAf;AAEA,SAAOC,MAAM,CAACE,WAAP,CAAmBH,KAAnB,CAAP;AACD,CAJM;AAMP,OAAO,IAAMI,YAAY,GAAG,SAAfA,YAAe,CAACC,OAAD;AAAA,mBACvBA,OAAO,CAACC,OAAR,CAAgBC,IADO,mCACsBF,OAAO,CAACG,aAD9B;AAAA,CAArB;AAGP,OAAO,IAAMC,SAAS,GAAG,SAAZA,SAAY,CAACJ,OAAD,EAA0B;AACjD,MAAMK,eAAe,GAAGf,cAAc,CAAC;AACrCgB,IAAAA,YAAY,EAAEN,OAAO,CAACC,OAAR,CAAgBK,YADO;AAErCC,IAAAA,MAAM,EAAEP,OAAO,CAACO;AAFqB,GAAD,CAAtC;AAIA,MAAMC,OAAO,GAAGnB,KAAK,CAACW,OAAO,CAACQ,OAAT,CAAL,CAAuBC,MAAvB,CAA8BT,OAAO,CAACC,OAAR,CAAgBS,UAA9C,CAAhB;AAEA,mBAAUV,OAAO,CAACC,OAAR,CAAgBC,IAA1B,uCAA2DF,OAAO,CAACG,aAAnE,mBAAyFE,eAAzF,4BAA0HG,OAA1H;AACD,CARM;AAUP,OAAO,IAAMG,UAAU,GAAG,SAAbA,UAAa,CAACC,MAAD;AAAA,SACxBA,MAAM,KAAKnB,aAAa,CAACoB,OAAzB,IAAoCD,MAAM,KAAKnB,aAAa,CAACqB,OADrC;AAAA,CAAnB;AAGP,OAAO,IAAMC,UAAU,GAAG,SAAbA,UAAa,CAACH,MAAD;AAAA,SACxBA,MAAM,KAAKnB,aAAa,CAACqB,OAAzB,GAAmC,mBAAnC,GAAyD,cADjC;AAAA,CAAnB","sourcesContent":["import dayjs from \"dayjs\";\nimport { currencyFormat } from \"helpers/currency\";\nimport * as Yup from \"yup\";\nimport { ApiStatus as InvoiceStatus } from \"../../../../constants\";\n\nexport const isEmailValid = (email: string): boolean => {\n  const schema = Yup.string().email();\n\n  return schema.isValidSync(email);\n};\n\nexport const emailSubject = (invoice: any): string =>\n  `${invoice.company.name} sent you an invoice (${invoice.invoiceNumber})`;\n\nexport const emailBody = (invoice: any): string => {\n  const formattedAmount = currencyFormat({\n    baseCurrency: invoice.company.baseCurrency,\n    amount: invoice.amount\n  });\n  const dueDate = dayjs(invoice.dueDate).format(invoice.company.dateFormat);\n\n  return `${invoice.company.name} has sent you an invoice (${invoice.invoiceNumber}) for ${formattedAmount} that's due on ${dueDate}.`;\n};\n\nexport const isDisabled = (status: string): boolean =>\n  status === InvoiceStatus.LOADING || status === InvoiceStatus.SUCCESS;\n\nexport const buttonText = (status: string): string =>\n  status === InvoiceStatus.SUCCESS ? \"ðŸŽ‰  Invoice Sent!\" : \"Send Invoice\";\n"]},"metadata":{},"sourceType":"module"}