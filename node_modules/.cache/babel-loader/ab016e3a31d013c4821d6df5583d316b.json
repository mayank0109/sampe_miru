{"ast":null,"code":"var _jsxFileName = \"/Users/mayankkhanna/Documents/miru-web/app/javascript/src/components/Invoices/Invoice/index.tsx\",\n    _this = this;\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nvar logger = require(\"js-logger\").get(\"@saeloun/miru-web:javascript:src:components:Invoices:Invoice:index.tsx\");\n\nimport React, { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { setAuthHeaders, registerIntercepts } from \"apis/axios\";\nimport invoicesApi from \"apis/invoices\";\nimport Header from \"./Header\";\nimport InvoiceDetails from \"./InvoiceDetails\";\nimport { ApiStatus as InvoiceStatus } from \"../../../constants\";\nimport DeleteInvoice from \"../popups/DeleteInvoice\";\nimport SendInvoice from \"../popups/SendInvoice\";\n\nvar Invoice = function Invoice() {\n  var params = useParams();\n\n  var _React$useState = React.useState(InvoiceStatus.IDLE),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      status = _React$useState2[0],\n      setStatus = _React$useState2[1];\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      invoice = _useState2[0],\n      setInvoice = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      showSendInvoiceModal = _useState4[0],\n      setShowInvoiceModal = _useState4[1];\n\n  var _React$useState3 = React.useState(null),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      invoiceToDelete = _React$useState4[0],\n      setInvoiceToDelete = _React$useState4[1];\n\n  var _React$useState5 = React.useState(false),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      showDeleteDialog = _React$useState6[0],\n      setShowDeleteDialog = _React$useState6[1];\n\n  var fetchInvoice = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              setStatus(InvoiceStatus.LOADING);\n              _context.next = 4;\n              return invoicesApi.getInvoice(params.id);\n\n            case 4:\n              res = _context.sent;\n              setInvoice(res.data);\n              setStatus(InvoiceStatus.SUCCESS);\n              _context.next = 12;\n              break;\n\n            case 9:\n              _context.prev = 9;\n              _context.t0 = _context[\"catch\"](0);\n              setStatus(InvoiceStatus.ERROR);\n\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 9]]);\n    }));\n\n    return function fetchInvoice() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    setAuthHeaders();\n    registerIntercepts();\n    fetchInvoice();\n  }, []);\n\n  var handleSendInvoice = function handleSendInvoice() {\n    setShowInvoiceModal(true);\n  };\n\n  return status === InvoiceStatus.SUCCESS && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Header, {\n    invoice: invoice,\n    handleSendInvoice: handleSendInvoice,\n    setShowDeleteDialog: setShowDeleteDialog,\n    setInvoiceToDelete: setInvoiceToDelete,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"bg-miru-gray-100 mt-5 mb-10 p-0 m-0 w-full\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(InvoiceDetails, {\n    invoice: invoice,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 11\n    }\n  })), showSendInvoiceModal && /*#__PURE__*/React.createElement(SendInvoice, {\n    invoice: invoice,\n    setIsSending: setShowInvoiceModal,\n    isSending: showSendInvoiceModal,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 34\n    }\n  }), showDeleteDialog && /*#__PURE__*/React.createElement(DeleteInvoice, {\n    invoice: invoiceToDelete,\n    setShowDeleteDialog: setShowDeleteDialog,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 11\n    }\n  }));\n};\n\nexport default Invoice;","map":{"version":3,"sources":["/Users/mayankkhanna/Documents/miru-web/app/javascript/src/components/Invoices/Invoice/index.tsx"],"names":["React","useEffect","useState","useParams","setAuthHeaders","registerIntercepts","invoicesApi","Header","InvoiceDetails","ApiStatus","InvoiceStatus","DeleteInvoice","SendInvoice","Invoice","params","IDLE","status","setStatus","invoice","setInvoice","showSendInvoiceModal","setShowInvoiceModal","invoiceToDelete","setInvoiceToDelete","showDeleteDialog","setShowDeleteDialog","fetchInvoice","LOADING","getInvoice","id","res","data","SUCCESS","ERROR","handleSendInvoice"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { setAuthHeaders, registerIntercepts } from \"apis/axios\";\nimport invoicesApi from \"apis/invoices\";\nimport Header from \"./Header\";\nimport InvoiceDetails from \"./InvoiceDetails\";\nimport { ApiStatus as InvoiceStatus } from \"../../../constants\";\nimport DeleteInvoice from \"../popups/DeleteInvoice\";\nimport SendInvoice from \"../popups/SendInvoice\";\n\nconst Invoice = () => {\n  const params = useParams();\n\n  const [status, setStatus] = React.useState<InvoiceStatus>(\n    InvoiceStatus.IDLE\n  );\n  const [invoice, setInvoice] = useState<any>(null);\n  const [showSendInvoiceModal, setShowInvoiceModal] = useState<boolean>(false);\n  const [invoiceToDelete, setInvoiceToDelete] = React.useState(null);\n  const [showDeleteDialog, setShowDeleteDialog] = React.useState<boolean>(false);\n  const fetchInvoice = async () => {\n    try {\n      setStatus(InvoiceStatus.LOADING);\n      const res = await invoicesApi.getInvoice(params.id);\n      setInvoice(res.data);\n      setStatus(InvoiceStatus.SUCCESS);\n    } catch (err) {\n      setStatus(InvoiceStatus.ERROR);\n    }\n  };\n\n  useEffect(() => {\n    setAuthHeaders();\n    registerIntercepts();\n    fetchInvoice();\n  }, []);\n\n  const handleSendInvoice = () => {\n    setShowInvoiceModal(true);\n  };\n\n  return (\n    status === InvoiceStatus.SUCCESS && (\n      <>\n        <Header invoice={invoice} handleSendInvoice={handleSendInvoice} setShowDeleteDialog={setShowDeleteDialog}\n          setInvoiceToDelete={setInvoiceToDelete} />\n        <div className=\"bg-miru-gray-100 mt-5 mb-10 p-0 m-0 w-full\">\n          <InvoiceDetails invoice={invoice} />\n        </div>\n        {showSendInvoiceModal && <SendInvoice invoice={invoice} setIsSending={setShowInvoiceModal} isSending={showSendInvoiceModal} />}\n        {showDeleteDialog && (\n          <DeleteInvoice\n            invoice={invoiceToDelete}\n            setShowDeleteDialog={setShowDeleteDialog}\n          />\n        )}\n      </>\n    )\n  );\n};\n\nexport default Invoice;\n"]},"metadata":{},"sourceType":"module"}