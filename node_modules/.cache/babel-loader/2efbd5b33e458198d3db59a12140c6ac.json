{"ast":null,"code":"var _jsxFileName = \"/Users/mayankkhanna/Documents/miru-web/app/javascript/src/components/time-tracking/WeeklyEntriesCard.tsx\",\n    _this = this;\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nvar logger = require(\"js-logger\").get(\"@saeloun/miru-web:javascript:src:components:time-tracking:WeeklyEntriesCard.tsx\");\n\n/* eslint-disable @typescript-eslint/no-var-requires */\nimport * as React from \"react\";\nimport Toastr from \"common/Toastr\";\nimport { minutesToHHMM, minutesFromHHMM } from \"helpers/hhmm-parser\";\nimport validateTimesheetEntry from \"helpers/validateTimesheetEntry\";\nimport Logger from \"js-logger\";\nimport timesheetEntryApi from \"../../apis/timesheet-entry\";\nvar useState = React.useState,\n    useEffect = React.useEffect;\n\nvar checkedIcon = require(\"../../../../assets/images/checkbox-checked.svg\");\n\nvar uncheckedIcon = require(\"../../../../assets/images/checkbox-unchecked.svg\");\n\nvar WeeklyEntriesCard = function WeeklyEntriesCard(_ref) {\n  var client = _ref.client,\n      project = _ref.project,\n      currentEntries = _ref.currentEntries,\n      setProjectSelected = _ref.setProjectSelected,\n      currentProjectId = _ref.currentProjectId,\n      setEntryList = _ref.setEntryList,\n      setCurrentEntries = _ref.setCurrentEntries,\n      newRowView = _ref.newRowView,\n      setNewRowView = _ref.setNewRowView,\n      dayInfo = _ref.dayInfo,\n      isWeeklyEditing = _ref.isWeeklyEditing,\n      setIsWeeklyEditing = _ref.setIsWeeklyEditing,\n      selectedEmployeeId = _ref.selectedEmployeeId;\n\n  var _useState = useState(-1),\n      _useState2 = _slicedToArray(_useState, 2),\n      selectedInputBox = _useState2[0],\n      setSelectedInputBox = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      note = _useState4[0],\n      setNote = _useState4[1];\n\n  var _useState5 = useState(\"00:00\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      duration = _useState6[0],\n      setDuration = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      showNote = _useState8[0],\n      setShowNote = _useState8[1];\n\n  var _useState9 = useState(0),\n      _useState10 = _slicedToArray(_useState9, 2),\n      weeklyTotalHours = _useState10[0],\n      setWeeklyTotalHours = _useState10[1];\n\n  var _useState11 = useState(false),\n      _useState12 = _slicedToArray(_useState11, 2),\n      billable = _useState12[0],\n      setBillable = _useState12[1];\n\n  var _useState13 = useState(false),\n      _useState14 = _slicedToArray(_useState13, 2),\n      dataChanged = _useState14[0],\n      setDataChanged = _useState14[1];\n\n  var getPayload = function getPayload() {\n    return {\n      project_id: currentProjectId,\n      duration: minutesFromHHMM(duration),\n      bill_status: billable ? \"unbilled\" : \"non_billable\",\n      note: note\n    };\n  };\n\n  var handleUpdateRow = function handleUpdateRow(entry) {\n    setCurrentEntries(function (prevState) {\n      var newState = _toConsumableArray(prevState);\n\n      newState[selectedInputBox] = entry;\n      return newState;\n    });\n  };\n\n  var handleDurationClick = function handleDurationClick(num) {\n    if (dataChanged) return;\n    if (isWeeklyEditing) return;\n    setSelectedInputBox(num);\n    setShowNote(true);\n    setNote(currentEntries[num] ? currentEntries[num][\"note\"] : \"\");\n    setDuration(minutesToHHMM(currentEntries[num] ? currentEntries[num][\"duration\"] : 0));\n    currentEntries[num] && [\"unbilled\", \"billed\"].includes(currentEntries[num][\"bill_status\"]) ? setBillable(true) : setBillable(false);\n    setIsWeeklyEditing(true);\n  };\n\n  var handleSaveEntry = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var payload, message, res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              payload = getPayload();\n              message = validateTimesheetEntry(payload);\n\n              if (!message) {\n                _context.next = 6;\n                break;\n              }\n\n              Toastr.error(message);\n              return _context.abrupt(\"return\");\n\n            case 6:\n              payload[\"work_date\"] = dayInfo[selectedInputBox][\"fullDate\"];\n              _context.next = 9;\n              return timesheetEntryApi.create(payload, selectedEmployeeId);\n\n            case 9:\n              res = _context.sent;\n\n              if (res.status === 200) {\n                setEntryList(function (prevState) {\n                  var newState = _objectSpread({}, prevState);\n\n                  if (newState[res.data.entry.work_date]) {\n                    newState[res.data.entry.work_date] = [].concat(_toConsumableArray(newState[res.data.entry.work_date]), [res.data.entry]);\n                  } else {\n                    newState[res.data.entry.work_date] = [res.data.entry];\n                  }\n\n                  return newState;\n                });\n                handleUpdateRow(res.data.entry);\n                if (newRowView) setNewRowView(false);\n                setDataChanged(false);\n                setShowNote(false);\n                setIsWeeklyEditing(false);\n              }\n\n              _context.next = 16;\n              break;\n\n            case 13:\n              _context.prev = 13;\n              _context.t0 = _context[\"catch\"](0);\n              Logger.error(_context.t0.message);\n\n            case 16:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 13]]);\n    }));\n\n    return function handleSaveEntry() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var handleUpdateEntry = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var timesheetEntryId, payload, message, res;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              timesheetEntryId = currentEntries[selectedInputBox][\"id\"];\n              payload = getPayload();\n              message = validateTimesheetEntry(payload);\n\n              if (!message) {\n                _context2.next = 7;\n                break;\n              }\n\n              Toastr.error(message);\n              return _context2.abrupt(\"return\");\n\n            case 7:\n              _context2.next = 9;\n              return timesheetEntryApi.update(timesheetEntryId, payload);\n\n            case 9:\n              res = _context2.sent;\n\n              if (res.status === 200) {\n                setEntryList(function (prevState) {\n                  var newState = _objectSpread({}, prevState);\n\n                  newState[res.data.entry.work_date] = newState[res.data.entry.work_date].map(function (entry) {\n                    return entry.id === res.data.entry.id ? res.data.entry : entry;\n                  });\n                  return newState;\n                });\n                handleUpdateRow(res.data.entry);\n                setDataChanged(false);\n                setShowNote(false);\n                setIsWeeklyEditing(false);\n              }\n\n              _context2.next = 16;\n              break;\n\n            case 13:\n              _context2.prev = 13;\n              _context2.t0 = _context2[\"catch\"](0);\n              Logger.error(_context2.t0.message);\n\n            case 16:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 13]]);\n    }));\n\n    return function handleUpdateEntry() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var calculateTotalWeeklyDuration = function calculateTotalWeeklyDuration() {\n    setWeeklyTotalHours(currentEntries.reduce(function (acc, cv) {\n      return cv ? cv[\"duration\"] + acc : 0;\n    }, 0));\n  };\n\n  var handleSetFocus = function handleSetFocus() {\n    if (selectedInputBox === -1) return;\n    document.getElementById(\"selectedInput\").focus();\n  };\n\n  useEffect(function () {\n    handleSetFocus();\n  }, [selectedInputBox]);\n  useEffect(function () {\n    calculateTotalWeeklyDuration();\n  }, [currentEntries]);\n  useEffect(function () {\n    handleSetFocus();\n  }, [selectedInputBox]);\n  useEffect(function () {\n    handleSetFocus();\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"week-card p-6 w-full mt-4 shadow-xl rounded-lg\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex items-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex mr-10 w-44 overflow-scroll\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-lg\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 11\n    }\n  }, client), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-lg mx-2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 11\n    }\n  }, \"\\u2022\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-lg\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 11\n    }\n  }, project)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-138 flex justify-between items-center mr-7\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 9\n    }\n  }, [0, 1, 2, 3, 4, 5, 6].map(function (num) {\n    return num === selectedInputBox ? /*#__PURE__*/React.createElement(\"input\", {\n      key: num,\n      id: \"selectedInput\",\n      value: duration,\n      onChange: function onChange(e) {\n        setDataChanged(true);\n        setDuration(e.target.value);\n      },\n      className: \" focus:outline-none focus:border-miru-han-purple-400 bold text-xl content-center px-1 py-4 w-18 h-15 border-2 border-miru-han-purple-400 rounded bg-miru-gray-100\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 15\n      }\n    }) : /*#__PURE__*/React.createElement(\"div\", {\n      key: num,\n      onClick: function onClick() {\n        return handleDurationClick(num);\n      },\n      className: \"bold text-xl content-center px-1 py-4 w-18 h-15 border-2 border-transparent rounded bg-miru-gray-100 \".concat(currentEntries[num] ? \"text-miru-gray-500\" : \"text-miru-dark-purple-200\"),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 15\n      }\n    }, currentEntries[num] ? minutesToHHMM(currentEntries[num][\"duration\"]) : \"00:00\");\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-xl font-bold\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 9\n    }\n  }, minutesToHHMM(weeklyTotalHours)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex justify-around\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    onClick: function onClick() {\n      if (!isWeeklyEditing) setProjectSelected(false);\n      setIsWeeklyEditing(true);\n    },\n    src: \"/edit.svg\",\n    alt: \"edit\",\n    className: \"icon-hover ml-8 cursor-pointer\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 11\n    }\n  }))), showNote && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-4 mx-54 justify-between bg-miru-gray-100 w-138 border border-miru-gray-1000 rounded\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"textarea\", {\n    value: note,\n    onChange: function onChange(e) {\n      setNote(e.target.value);\n      setDataChanged(true);\n      setDataChanged(true);\n    },\n    placeholder: \"Note\",\n    className: \"rounded w-full p-2 bg-miru-gray-100 outline-none resize-none\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"h-10 w-full flex justify-between bg-miru-gray-200\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex items-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 13\n    }\n  }, billable ? /*#__PURE__*/React.createElement(\"img\", {\n    onClick: function onClick() {\n      setBillable(false);\n      setDataChanged(true);\n    },\n    className: \"inline\",\n    src: checkedIcon,\n    alt: \"checkbox\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 17\n    }\n  }) : /*#__PURE__*/React.createElement(\"img\", {\n    onClick: function onClick() {\n      setBillable(true);\n      setDataChanged(true);\n    },\n    className: \"inline\",\n    src: uncheckedIcon,\n    alt: \"checkbox\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"h4\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 15\n    }\n  }, \"Billable\")), /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: function onClick() {\n      setNote(\"\");\n      setShowNote(false);\n      setDataChanged(false);\n      setSelectedInputBox(-1);\n      setBillable(false);\n      setIsWeeklyEditing(false);\n    },\n    className: \"m-2 inline-block h-6 w-30 text-xs py-1 px-6 rounded border border-miru-han-purple-1000 bg-transparent hover:bg-miru-han-purple-1000 text-miru-han-purple-600 font-bold hover:text-white hover:border-transparent tracking-widest  text-center justify-center align-middle\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 15\n    }\n  }, \"CANCEL\"), currentEntries[selectedInputBox] ? /*#__PURE__*/React.createElement(\"button\", {\n    className: \"m-2 mb-1 inline-block h-6 w-30 text-xs py-1 px-6 rounded border text-white font-bold tracking-widest \" + (dataChanged && duration ? \"bg-miru-han-purple-1000 hover:border-transparent\" : \"bg-miru-gray-1000\"),\n    onClick: handleUpdateEntry,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 17\n    }\n  }, \"UPDATE\") : /*#__PURE__*/React.createElement(\"button\", {\n    className: \"m-2 mb-1 inline-block h-6 w-30 text-xs py-1 px-6 rounded border text-white font-bold tracking-widest \" + (dataChanged && duration ? \"bg-miru-han-purple-1000 hover:border-transparent\" : \"bg-miru-gray-1000\"),\n    onClick: handleSaveEntry,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 17\n    }\n  }, \"SAVE\")))));\n};\n\nexport default WeeklyEntriesCard;","map":{"version":3,"sources":["/Users/mayankkhanna/Documents/miru-web/app/javascript/src/components/time-tracking/WeeklyEntriesCard.tsx"],"names":["React","Toastr","minutesToHHMM","minutesFromHHMM","validateTimesheetEntry","Logger","timesheetEntryApi","useState","useEffect","checkedIcon","require","uncheckedIcon","WeeklyEntriesCard","client","project","currentEntries","setProjectSelected","currentProjectId","setEntryList","setCurrentEntries","newRowView","setNewRowView","dayInfo","isWeeklyEditing","setIsWeeklyEditing","selectedEmployeeId","selectedInputBox","setSelectedInputBox","note","setNote","duration","setDuration","showNote","setShowNote","weeklyTotalHours","setWeeklyTotalHours","billable","setBillable","dataChanged","setDataChanged","getPayload","project_id","bill_status","handleUpdateRow","entry","prevState","newState","handleDurationClick","num","includes","handleSaveEntry","payload","message","error","create","res","status","data","work_date","handleUpdateEntry","timesheetEntryId","update","map","id","calculateTotalWeeklyDuration","reduce","acc","cv","handleSetFocus","document","getElementById","focus","e","target","value"],"mappings":"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","sourcesContent":["/* eslint-disable @typescript-eslint/no-var-requires */\nimport * as React from \"react\";\nimport Toastr from \"common/Toastr\";\nimport { minutesToHHMM, minutesFromHHMM } from \"helpers/hhmm-parser\";\nimport validateTimesheetEntry from \"helpers/validateTimesheetEntry\";\nimport Logger from \"js-logger\";\nimport timesheetEntryApi from \"../../apis/timesheet-entry\";\n\nconst { useState, useEffect } = React;\nconst checkedIcon = require(\"../../../../assets/images/checkbox-checked.svg\");\nconst uncheckedIcon = require(\"../../../../assets/images/checkbox-unchecked.svg\");\n\nconst WeeklyEntriesCard = ({\n  client,\n  project,\n  currentEntries,\n  setProjectSelected,\n  // handleDeleteEntries,\n  currentProjectId,\n  setEntryList,\n  setCurrentEntries,\n  newRowView,\n  setNewRowView,\n  dayInfo,\n  isWeeklyEditing,\n  setIsWeeklyEditing,\n  selectedEmployeeId\n\n}: Iprops) => {\n  const [selectedInputBox, setSelectedInputBox] = useState<number>(-1);\n  const [note, setNote] = useState<string>(\"\");\n  const [duration, setDuration] = useState<string>(\"00:00\");\n  const [showNote, setShowNote] = useState<boolean>(false);\n  const [weeklyTotalHours, setWeeklyTotalHours] = useState<number>(0);\n  const [billable, setBillable] = useState<boolean>(false);\n  const [dataChanged, setDataChanged] = useState<boolean>(false);\n\n  const getPayload = () => ({\n    project_id: currentProjectId,\n    duration: minutesFromHHMM(duration),\n    bill_status: billable ? \"unbilled\" : \"non_billable\",\n    note: note\n  });\n\n  const handleUpdateRow = (entry) => {\n    setCurrentEntries(prevState => {\n      const newState: any = [...prevState];\n      newState[selectedInputBox] = entry;\n      return newState;\n    });\n  };\n\n  const handleDurationClick = (num: number) => {\n    if (dataChanged) return;\n    if (isWeeklyEditing) return;\n    setSelectedInputBox(num);\n    setShowNote(true);\n    setNote(\n      currentEntries[num] ? currentEntries[num][\"note\"] : \"\"\n    );\n    setDuration(\n      minutesToHHMM(\n        currentEntries[num] ? currentEntries[num][\"duration\"] : 0\n      )\n    );\n    currentEntries[num] &&\n      [\"unbilled\", \"billed\"].includes(\n        currentEntries[num][\"bill_status\"]\n      )\n      ? setBillable(true)\n      : setBillable(false);\n    setIsWeeklyEditing(true);\n  };\n\n  const handleSaveEntry = async () => {\n    try {\n      const payload = getPayload();\n      const message = validateTimesheetEntry(payload);\n      if (message) {\n        Toastr.error(message);\n        return;\n      }\n      payload[\"work_date\"] = dayInfo[selectedInputBox][\"fullDate\"];\n      const res = await timesheetEntryApi.create(payload, selectedEmployeeId);\n      if (res.status === 200) {\n        setEntryList(prevState => {\n          const newState: any = { ...prevState };\n          if (newState[res.data.entry.work_date]) {\n            newState[res.data.entry.work_date] = [\n              ...newState[res.data.entry.work_date],\n              res.data.entry\n            ];\n          } else {\n            newState[res.data.entry.work_date] = [res.data.entry];\n          }\n          return newState;\n        });\n        handleUpdateRow(res.data.entry);\n        if (newRowView) setNewRowView(false);\n        setDataChanged(false);\n        setShowNote(false);\n        setIsWeeklyEditing(false);\n      }\n    } catch (error) {\n      Logger.error(error.message);\n    }\n  };\n\n  const handleUpdateEntry = async () => {\n    try {\n      const timesheetEntryId = currentEntries[selectedInputBox][\"id\"];\n      const payload = getPayload();\n      const message = validateTimesheetEntry(payload);\n      if (message) {\n        Toastr.error(message);\n        return;\n      }\n      const res = await timesheetEntryApi.update(timesheetEntryId, payload);\n      if (res.status === 200) {\n        setEntryList(prevState => {\n          const newState: any = { ...prevState };\n          newState[res.data.entry.work_date] = newState[\n            res.data.entry.work_date\n          ].map(entry =>\n            entry.id === res.data.entry.id ? res.data.entry : entry\n          );\n          return newState;\n        });\n        handleUpdateRow(res.data.entry);\n        setDataChanged(false);\n        setShowNote(false);\n        setIsWeeklyEditing(false);\n      }\n    } catch (error) {\n      Logger.error(error.message);\n    }\n  };\n\n  const calculateTotalWeeklyDuration = () => {\n    setWeeklyTotalHours(\n      currentEntries.reduce((acc, cv) => (cv ? cv[\"duration\"] + acc : 0), 0)\n    );\n  };\n\n  const handleSetFocus = () => {\n    if (selectedInputBox === -1) return;\n    document.getElementById(\"selectedInput\").focus();\n  };\n\n  useEffect(() => {\n    handleSetFocus();\n  }, [selectedInputBox]);\n\n  useEffect(() => {\n    calculateTotalWeeklyDuration();\n  }, [currentEntries]);\n\n  useEffect(() => {\n    handleSetFocus();\n  }, [selectedInputBox]);\n\n  useEffect(() => {\n    handleSetFocus();\n  }, []);\n\n  return (\n    <div className=\"week-card p-6 w-full mt-4 shadow-xl rounded-lg\">\n      <div className=\"flex items-center\">\n        <div className=\"flex mr-10 w-44 overflow-scroll\">\n          <p className=\"text-lg\">{client}</p>\n          <p className=\"text-lg mx-2\">•</p>\n          <p className=\"text-lg\">{project}</p>\n        </div>\n        <div className=\"w-138 flex justify-between items-center mr-7\">\n          {[0, 1, 2, 3, 4, 5, 6].map((num: number) =>\n            num === selectedInputBox ? (\n              <input\n                key={num}\n                id=\"selectedInput\"\n                value={duration}\n                onChange={e => {\n                  setDataChanged(true);\n                  setDuration(e.target.value);\n                }}\n                className=\" focus:outline-none focus:border-miru-han-purple-400 bold text-xl content-center px-1 py-4 w-18 h-15 border-2 border-miru-han-purple-400 rounded bg-miru-gray-100\"\n              />\n            ) : (\n              <div\n                key={num}\n                onClick={() => handleDurationClick(num)}\n                className={`bold text-xl content-center px-1 py-4 w-18 h-15 border-2 border-transparent rounded bg-miru-gray-100 ${currentEntries[num] ? \"text-miru-gray-500\" : \"text-miru-dark-purple-200\"}`}\n              >\n                {currentEntries[num]\n                  ? minutesToHHMM(currentEntries[num][\"duration\"])\n                  : \"00:00\"}\n              </div>\n            )\n          )}\n        </div>\n        <div className=\"text-xl font-bold\">\n          {minutesToHHMM(weeklyTotalHours)}\n        </div>\n        <div className=\"flex justify-around\">\n          <img\n            onClick={() => {if (! isWeeklyEditing) setProjectSelected(false); setIsWeeklyEditing(true); }}\n            src=\"/edit.svg\"\n            alt=\"edit\"\n            className=\"icon-hover ml-8 cursor-pointer\"\n          />\n          {/* <img\n            onClick={handleDeleteEntries}\n            src=\"/delete.svg\"\n            alt=\"delete\"\n            className=\"icon-hover ml-8 cursor-pointer\"\n          /> */}\n        </div>\n      </div>\n      {showNote && (\n        <div className=\"mt-4 mx-54 justify-between bg-miru-gray-100 w-138 border border-miru-gray-1000 rounded\">\n          <textarea\n            value={note}\n            onChange={e => {\n              setNote(e.target.value);\n              setDataChanged(true);\n              setDataChanged(true);\n            }}\n            placeholder=\"Note\"\n            className=\"rounded w-full p-2 bg-miru-gray-100 outline-none resize-none\"\n          ></textarea>\n          <div className=\"h-10 w-full flex justify-between bg-miru-gray-200\">\n            <div className=\"flex items-center\">\n              {billable ? (\n                <img\n                  onClick={() => {\n                    setBillable(false);\n                    setDataChanged(true);\n                  }}\n                  className=\"inline\"\n                  src={checkedIcon}\n                  alt=\"checkbox\"\n                />\n              ) : (\n                <img\n                  onClick={() => {\n                    setBillable(true);\n                    setDataChanged(true);\n                  }}\n                  className=\"inline\"\n                  src={uncheckedIcon}\n                  alt=\"checkbox\"\n                />\n              )}\n              <h4>Billable</h4>\n            </div>\n            <div>\n              <button\n                onClick={() => {\n                  setNote(\"\");\n                  setShowNote(false);\n                  setDataChanged(false);\n                  setSelectedInputBox(-1);\n                  setBillable(false);\n                  setIsWeeklyEditing(false);\n                }}\n                className=\"m-2 inline-block h-6 w-30 text-xs py-1 px-6 rounded border border-miru-han-purple-1000 bg-transparent hover:bg-miru-han-purple-1000 text-miru-han-purple-600 font-bold hover:text-white hover:border-transparent tracking-widest  text-center justify-center align-middle\"\n              >\n                CANCEL\n              </button>\n              {currentEntries[selectedInputBox] ?\n                <button\n                  className={\n                    \"m-2 mb-1 inline-block h-6 w-30 text-xs py-1 px-6 rounded border text-white font-bold tracking-widest \" +\n                  (dataChanged && duration\n                    ? \"bg-miru-han-purple-1000 hover:border-transparent\"\n                    : \"bg-miru-gray-1000\")\n                  }\n                  onClick={handleUpdateEntry}\n                >\n                UPDATE\n                </button>\n                :\n                <button\n                  className={\n                    \"m-2 mb-1 inline-block h-6 w-30 text-xs py-1 px-6 rounded border text-white font-bold tracking-widest \" +\n                  (dataChanged && duration\n                    ? \"bg-miru-han-purple-1000 hover:border-transparent\"\n                    : \"bg-miru-gray-1000\")\n                  }\n                  onClick={handleSaveEntry}\n                >\n                SAVE\n                </button>}\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\ninterface Iprops {\n  client: string;\n  project: string;\n  selectedEmployeeId: number;\n  currentEntries: Array<any>;\n  setCurrentEntries: React.Dispatch<React.SetStateAction<[]>>;\n  currentProjectId: number;\n  setProjectSelected: React.Dispatch<React.SetStateAction<boolean>>;\n  projectSelected: boolean;\n  newRowView: boolean;\n  setNewRowView: React.Dispatch<React.SetStateAction<boolean>>;\n  setEntryList: React.Dispatch<React.SetStateAction<[]>>;\n  // handleDeleteEntries: () => any;\n  handleEditEntries: () => any;\n  dayInfo: Array<any>;\n  isWeeklyEditing: boolean;\n  setIsWeeklyEditing: React.Dispatch<React.SetStateAction<boolean>>;\n  weeklyData: any[];\n  setWeeklyData: React.Dispatch<React.SetStateAction<any[]>>;\n}\n\nexport default WeeklyEntriesCard;\n"]},"metadata":{},"sourceType":"module"}