{"ast":null,"code":"var _jsxFileName = \"/app/app/javascript/src/components/Invoices/Generate/NewLineItemTable.tsx\",\n    _this = this;\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar logger = require(\"js-logger\").get(\"@saeloun/miru-web:javascript:src:components:Invoices:Generate:NewLineItemTable.tsx\");\n\nimport React from \"react\";\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nimport dayjs from \"dayjs\";\nimport { DropdownHeader } from \"./CustomComponents\";\n\nvar NewLineItemTable = function NewLineItemTable(_ref) {\n  var showItemInputs = _ref.showItemInputs,\n      setShowItemInputs = _ref.setShowItemInputs,\n      addNew = _ref.addNew,\n      setAddNew = _ref.setAddNew,\n      lineItems = _ref.lineItems,\n      setLineItems = _ref.setLineItems,\n      loadMoreItems = _ref.loadMoreItems,\n      totalLineItems = _ref.totalLineItems,\n      pageNumber = _ref.pageNumber,\n      setPageNumber = _ref.setPageNumber,\n      selectedOption = _ref.selectedOption,\n      setSelectedOption = _ref.setSelectedOption,\n      setMultiLineItemModal = _ref.setMultiLineItemModal;\n  var hasMoreItems = lineItems.length === totalLineItems;\n\n  var selectRowId = function selectRowId(items) {\n    var option = _objectSpread(_objectSpread({}, items), {}, {\n      lineTotal: Number(items.qty) / 60 * Number(items.rate)\n    });\n\n    setAddNew(false);\n    setSelectedOption([].concat(_toConsumableArray(selectedOption), [option]));\n    setLineItems([]);\n    setPageNumber(1);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(DropdownHeader, {\n    setShowMultilineModal: setMultiLineItemModal,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: function onClick() {\n      setShowItemInputs(!showItemInputs);\n      setAddNew(!addNew);\n    },\n    className: \"mx-3 font-bold text-xs tracking-widest text-miru-han-purple-1000\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 9\n    }\n  }, \"Add Manual Entry\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"overflow-scroll mt-4 relative\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(InfiniteScroll, {\n    dataLength: pageNumber * 10,\n    next: loadMoreItems,\n    hasMore: !hasMoreItems,\n    loader: /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-center py-2\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 15\n      }\n    }, \"Loading...\")),\n    height: 250,\n    endMessage: /*#__PURE__*/React.createElement(\"p\", {\n      className: \"text-center py-2\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 15\n      }\n    }, \"End of the list\")),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }\n  }, lineItems.map(function (item, index) {\n    var hoursLogged = (item.qty / 60).toFixed(2);\n    var date = dayjs(item.date).format(\"DD.MM.YYYY\");\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: index,\n      onClick: function onClick() {\n        selectRowId(item);\n      },\n      className: \"py-2 px-3 flex justify-between cursor-pointer hover:bg-miru-gray-100\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"font-medium w-1/4 text-base text-miru-dark-purple-1000 text-left\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }\n    }, item.first_name, \" \", item.last_name), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"font-medium w-2/4 text-xs text-miru-dark-purple-600 text-left w-1/2\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }\n    }, item.description), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"font-medium text-xs text-miru-dark-purple-1000 text-center\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }\n    }, date), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"font-medium text-xs text-miru-dark-purple-1000 text-center\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }\n    }, hoursLogged));\n  }))));\n};\n\nexport default NewLineItemTable;","map":{"version":3,"sources":["/app/app/javascript/src/components/Invoices/Generate/NewLineItemTable.tsx"],"names":["React","InfiniteScroll","dayjs","DropdownHeader","NewLineItemTable","showItemInputs","setShowItemInputs","addNew","setAddNew","lineItems","setLineItems","loadMoreItems","totalLineItems","pageNumber","setPageNumber","selectedOption","setSelectedOption","setMultiLineItemModal","hasMoreItems","length","selectRowId","items","option","lineTotal","Number","qty","rate","map","item","index","hoursLogged","toFixed","date","format","first_name","last_name","description"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nimport dayjs from \"dayjs\";\nimport { DropdownHeader } from \"./CustomComponents\";\n\nconst NewLineItemTable = ({\n  showItemInputs,\n  setShowItemInputs,\n  addNew, setAddNew,\n  lineItems, setLineItems,\n  loadMoreItems,\n  totalLineItems,\n  pageNumber, setPageNumber,\n  selectedOption,\n  setSelectedOption,\n  setMultiLineItemModal }) => {\n\n  const hasMoreItems = lineItems.length === totalLineItems;\n  const selectRowId = (items) => {\n    const option = { ...items, lineTotal: (Number(items.qty) / 60 * Number(items.rate)) };\n    setAddNew(false);\n    setSelectedOption([...selectedOption, option]);\n    setLineItems([]);\n    setPageNumber(1);\n  };\n\n  return (\n    <div>\n      <DropdownHeader setShowMultilineModal={setMultiLineItemModal} />\n      <div>\n        <button onClick={() => {\n          setShowItemInputs(!showItemInputs);\n          setAddNew(!addNew);\n        }} className=\"mx-3 font-bold text-xs tracking-widest text-miru-han-purple-1000\">Add Manual Entry</button>\n      </div>\n      <div className=\"overflow-scroll mt-4 relative\">\n        <InfiniteScroll\n          dataLength={pageNumber * 10}\n          next={loadMoreItems}\n          hasMore={!hasMoreItems}\n          loader={\n            <div className=\"text-center py-2\">\n              <h4>Loading...</h4>\n            </div>\n          }\n          height={250}\n          endMessage={\n            <p className=\"text-center py-2\">\n              <b>End of the list</b>\n            </p>\n          }\n        >\n          {lineItems.map((item, index) => {\n            const hoursLogged = (item.qty / 60).toFixed(2);\n            const date = dayjs(item.date).format(\"DD.MM.YYYY\");\n            return (\n              <div key={index} onClick={() => { selectRowId(item); }} className=\"py-2 px-3 flex justify-between cursor-pointer hover:bg-miru-gray-100\">\n                <span className=\"font-medium w-1/4 text-base text-miru-dark-purple-1000 text-left\">\n                  {item.first_name} {item.last_name}\n                </span>\n                <span className=\"font-medium w-2/4 text-xs text-miru-dark-purple-600 text-left w-1/2\">\n                  {item.description}\n                </span>\n                <span className=\"font-medium text-xs text-miru-dark-purple-1000 text-center\">\n                  {date}\n                </span>\n                <span className=\"font-medium text-xs text-miru-dark-purple-1000 text-center\">\n                  {hoursLogged}\n                </span>\n              </div>\n            );\n          })\n          }\n        </InfiniteScroll>\n      </div>\n    </div>\n  );\n};\n\nexport default NewLineItemTable;\n"]},"metadata":{},"sourceType":"module"}