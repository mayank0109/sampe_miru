{"ast":null,"code":"var _jsxFileName = \"/app/app/javascript/src/components/Projects/Modals/AddEditProject.tsx\",\n    _this = this;\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nvar logger = require(\"js-logger\").get(\"@saeloun/miru-web:javascript:src:components:Projects:Modals:AddEditProject.tsx\");\n\nimport React, { useEffect, useState } from \"react\";\nimport projectApi from \"apis/projects\";\nimport { X } from \"phosphor-react\";\n\nvar AddEditProject = function AddEditProject(_ref) {\n  var setEditProjectData = _ref.setEditProjectData,\n      editProjectData = _ref.editProjectData,\n      setShowProjectModal = _ref.setShowProjectModal,\n      projectData = _ref.projectData;\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      client = _useState2[0],\n      setClient = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      projectName = _useState4[0],\n      setProjectName = _useState4[1];\n\n  var _useState5 = useState(\"Billable\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      projectType = _useState6[0],\n      setProjectType = _useState6[1];\n\n  var _useState7 = useState(null),\n      _useState8 = _slicedToArray(_useState7, 2),\n      clientList = _useState8[0],\n      setClientList = _useState8[1];\n\n  useEffect(function () {\n    var getClientList = /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                projectApi.get().then(function (data) {\n                  setClientList(data.data.clients);\n                })[\"catch\"](function () {\n                  setClientList({});\n                });\n\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function getClientList() {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n\n    var getProject = /*#__PURE__*/function () {\n      var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                projectApi.show(projectData.id).then(function (data) {\n                  setEditProjectData(data.data.project_details);\n                })[\"catch\"](function () {\n                  setEditProjectData({});\n                });\n\n              case 1:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      return function getProject() {\n        return _ref3.apply(this, arguments);\n      };\n    }();\n\n    getClientList();\n    if (projectData) getProject();\n  }, []);\n  useEffect(function () {\n    if (editProjectData) {\n      if (clientList) {\n        var _client = clientList.filter(function (client) {\n          return client.name == editProjectData.client.name;\n        });\n\n        setClient(_client[0].id);\n      }\n\n      setProjectName(editProjectData ? editProjectData.name : null);\n      setProjectType(editProjectData.isBillable ? \"Billable\" : \"Non-Billable\");\n    }\n  }, [editProjectData, clientList]);\n\n  var handleEdit = function handleEdit() {\n    projectApi.update(editProjectData.id, {\n      project: {\n        \"client_id\": client,\n        \"name\": projectName,\n        \"billable\": projectType === \"Billable\"\n      }\n    }).then(function () {\n      setEditProjectData(\"\");\n      setShowProjectModal(false);\n      window.location.reload();\n    });\n  };\n\n  var handleSubmit = function handleSubmit() {\n    projectApi.create({\n      project: {\n        \"client_id\": client,\n        \"name\": projectName,\n        \"billable\": projectType === \"Billable\"\n      }\n    }).then(function () {\n      setEditProjectData(\"\");\n      window.location.reload();\n      setShowProjectModal(false);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal__modal main-modal\",\n    style: {\n      background: \"rgba(29, 26, 49,0.6)\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal__container modal-container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal__content modal-content\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal__position\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    className: \"modal__title\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }, editProjectData ? \"Edit Project Details\" : \"Add New Project\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal__close\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"modal__button\",\n    onClick: function onClick() {\n      setEditProjectData(\"\");\n      setShowProjectModal(false);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(X, {\n    size: 15,\n    color: \"#CDD6DF\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 17\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal__form flex-col\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"field\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"field_with_errors\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"tracking-wider block text-xs font-normal text-miru-dark-purple-1000\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 19\n    }\n  }, \"Client\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-1\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    defaultValue: client,\n    className: \"rounded border-0 block w-full px-2 py-1 bg-miru-gray-100 h-8 font-medium text-sm text-miru-dark-purple-1000 focus:outline-none sm:text-base\",\n    onChange: function onChange(e) {\n      return setClient(e.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"0\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 21\n    }\n  }, \"Select Client\"), clientList && clientList.map(function (e) {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      value: e.id,\n      selected: e.id == client,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 43\n      }\n    }, e.name);\n  }))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"field\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"field_with_errors\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"tracking-wider block text-xs font-normal text-miru-dark-purple-1000\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 19\n    }\n  }, \"Project Name\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-1\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \" Enter Project Name\",\n    className: \"rounded appearance-none border-0 block w-full px-3 py-2 bg-miru-gray-100 h-8 font-medium text-sm text-miru-dark-purple-1000 focus:outline-none sm:text-base\",\n    value: projectName,\n    onChange: function onChange(e) {\n      return setProjectName(e.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 19\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"field\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"tracking-wider block text-xs font-normal text-miru-dark-purple-1000\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 17\n    }\n  }, \"Project Type\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-1\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"space-y-4 sm:flex sm:items-center sm:space-y-0 sm:space-x-10\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex items-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"radio\",\n    id: \"billable\",\n    name: \"project_type\",\n    defaultChecked: editProjectData ? editProjectData.isBillable : true,\n    className: \"focus:ring-miru-han-purple-1000 h-4 w-4 border-miru-han-purple-1000 text-miru-dark-purple-1000 cursor-pointer\",\n    onClick: function onClick() {\n      return setProjectType(\"Billable\");\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 23\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"billable\",\n    className: \"ml-3 block text-sm font-medium text-miru-dark-purple-1000\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 23\n    }\n  }, \"Billable\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex items-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"radio\",\n    id: \"non-billable\",\n    name: \"project_type\",\n    defaultChecked: editProjectData ? !editProjectData.isBillable : false,\n    className: \"focus:ring-miru-han-purple-1000 h-4 w-4 bg--miru-han-purple-1000 border-miru-han-purple-1000 text-miru-dark-purple-1000 cursor-pointer\",\n    onClick: function onClick() {\n      return setProjectType(\"Non-Billable\");\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 23\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"non-billable\",\n    className: \"ml-3 block text-sm font-medium text-miru-dark-purple-1000 \",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 23\n    }\n  }, \"Non-billable\")))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"actions mt-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 13\n    }\n  }, client && projectName && projectType ? /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"tracking-widest h-10 w-full flex justify-center py-1 px-4 border border-transparent shadow-sm text-base font-sans font-medium text-miru-white-1000 bg-miru-han-purple-1000 hover:bg-miru-han-purple-600 focus:outline-none rounded cursor-pointer\",\n    onClick: function onClick() {\n      return editProjectData ? handleEdit() : handleSubmit();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 17\n    }\n  }, editProjectData ? \" SAVE CHANGES\" : \"ADD PROJECT\") : /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"tracking-widest h-10 w-full flex justify-center py-1 px-4 border border-transparent shadow-sm text-base font-sans font-medium text-miru-white-1000 bg-miru-gray-1000 focus:outline-none rounded cursor-pointer\",\n    disabled: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 19\n    }\n  }, editProjectData ? \"SAVE CHANGES\" : \"ADD PROJECT\"))))));\n};\n\nAddEditProject.defaultProps = {\n  projectData: null\n};\nexport default AddEditProject;","map":{"version":3,"sources":["/app/app/javascript/src/components/Projects/Modals/AddEditProject.tsx"],"names":["React","useEffect","useState","projectApi","X","AddEditProject","setEditProjectData","editProjectData","setShowProjectModal","projectData","client","setClient","projectName","setProjectName","projectType","setProjectType","clientList","setClientList","getClientList","get","then","data","clients","getProject","show","id","project_details","filter","name","isBillable","handleEdit","update","project","window","location","reload","handleSubmit","create","background","e","target","value","map","defaultProps"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport projectApi from \"apis/projects\";\nimport { X } from \"phosphor-react\";\n\nconst AddEditProject = ({ setEditProjectData, editProjectData, setShowProjectModal, projectData }) => {\n\n  const [client, setClient] = useState<any>(null);\n  const [projectName, setProjectName] = useState<any>(null);\n  const [projectType, setProjectType] = useState<any>(\"Billable\");\n  const [clientList, setClientList] = useState<any>(null);\n\n  useEffect(() => {\n    const getClientList = async () => {\n      projectApi.get()\n        .then((data) => {\n          setClientList(data.data.clients);\n        }).catch(() => {\n          setClientList({});\n        });\n    };\n    const getProject = async () => {\n      projectApi.show(projectData.id)\n        .then((data) => {\n          setEditProjectData(data.data.project_details);\n        })\n        .catch(() => {\n          setEditProjectData({});\n        });\n    };\n\n    getClientList();\n    if (projectData) getProject();\n  }, []);\n\n  useEffect(() => {\n    if (editProjectData) {\n      if (clientList) {\n        const client = clientList.filter(client => client.name == editProjectData.client.name);\n        setClient(client[0].id);\n      }\n      setProjectName(editProjectData ? editProjectData.name : null);\n      setProjectType(editProjectData.isBillable ? \"Billable\" : \"Non-Billable\");\n    }\n  }, [editProjectData, clientList]);\n\n  const handleEdit = () => {\n    projectApi.update(editProjectData.id, {\n      project: {\n        \"client_id\": client,\n        \"name\": projectName,\n        \"billable\": projectType === \"Billable\"\n      }\n    }).then(() => {\n      setEditProjectData(\"\");\n      setShowProjectModal(false);\n      window.location.reload();\n    });\n  };\n\n  const handleSubmit = () => {\n    projectApi.create({\n      project: {\n        \"client_id\": client,\n        \"name\": projectName,\n        \"billable\": projectType === \"Billable\"\n      }\n    }).then(() => {\n      setEditProjectData(\"\");\n      window.location.reload();\n      setShowProjectModal(false);\n    });\n  };\n\n  return (\n    <div className=\"modal__modal main-modal\" style={{ background: \"rgba(29, 26, 49,0.6)\" }}>\n      <div className=\"modal__container modal-container\">\n        <div className=\"modal__content modal-content\">\n          <div className=\"modal__position\">\n            <h6 className=\"modal__title\">{editProjectData ? \"Edit Project Details\" : \"Add New Project\"}</h6>\n            <div className=\"modal__close\">\n              <button\n                className=\"modal__button\"\n                onClick={() => {\n                  setEditProjectData(\"\");\n                  setShowProjectModal(false);\n                }}\n              >\n                <X size={15} color=\"#CDD6DF\" />\n              </button>\n            </div>\n          </div>\n          <div className=\"modal__form flex-col\">\n            <div className=\"mt-4\">\n              <div className=\"field\">\n                <div className=\"field_with_errors\">\n                  <label className=\"tracking-wider block text-xs font-normal text-miru-dark-purple-1000\">\n                    Client\n                  </label>\n                </div>\n                <div className=\"mt-1\">\n                  <select\n                    defaultValue={client}\n                    className=\"rounded border-0 block w-full px-2 py-1 bg-miru-gray-100 h-8 font-medium text-sm text-miru-dark-purple-1000 focus:outline-none sm:text-base\"\n                    onChange={(e) => setClient(e.target.value)}>\n                    <option value='0'>Select Client</option>\n                    {clientList &&\n                      clientList.map(e => <option value={e.id} selected={e.id == client}>{e.name}</option>)}\n                  </select>\n                </div>\n              </div>\n            </div>\n            <div className=\"mt-4\">\n              <div className=\"field\">\n                <div className=\"field_with_errors\">\n                  <label className=\"tracking-wider block text-xs font-normal text-miru-dark-purple-1000\">\n                    Project Name\n                  </label>\n                </div>\n                <div className=\"mt-1\">\n                  <input type=\"text\" placeholder=\" Enter Project Name\" className=\"rounded appearance-none border-0 block w-full px-3 py-2 bg-miru-gray-100 h-8 font-medium text-sm text-miru-dark-purple-1000 focus:outline-none sm:text-base\" value={projectName} onChange={(e) => setProjectName(e.target.value)} />\n                </div>\n              </div>\n            </div>\n            <div className=\"mt-4\">\n              <div className=\"field\">\n                <label className=\"tracking-wider block text-xs font-normal text-miru-dark-purple-1000\">Project Type</label>\n                <div className=\"mt-1\">\n                  <div className=\"space-y-4 sm:flex sm:items-center sm:space-y-0 sm:space-x-10\">\n                    <div className=\"flex items-center\">\n                      <input type=\"radio\" id='billable' name='project_type' defaultChecked={editProjectData ? editProjectData.isBillable : true} className=\"focus:ring-miru-han-purple-1000 h-4 w-4 border-miru-han-purple-1000 text-miru-dark-purple-1000 cursor-pointer\" onClick={() => setProjectType(\"Billable\")} />\n                      <label htmlFor=\"billable\" className=\"ml-3 block text-sm font-medium text-miru-dark-purple-1000\">\n                        Billable\n                      </label>\n                    </div>\n\n                    <div className=\"flex items-center\">\n                      <input type=\"radio\" id='non-billable' name='project_type' defaultChecked={editProjectData ? !editProjectData.isBillable : false} className=\"focus:ring-miru-han-purple-1000 h-4 w-4 bg--miru-han-purple-1000 border-miru-han-purple-1000 text-miru-dark-purple-1000 cursor-pointer\" onClick={() => setProjectType(\"Non-Billable\")} />\n                      <label htmlFor=\"non-billable\" className=\"ml-3 block text-sm font-medium text-miru-dark-purple-1000 \">\n                        Non-billable\n                      </label>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"actions mt-4\">\n              {client && projectName && projectType ?\n                <button type=\"submit\" className=\"tracking-widest h-10 w-full flex justify-center py-1 px-4 border border-transparent shadow-sm text-base font-sans font-medium text-miru-white-1000 bg-miru-han-purple-1000 hover:bg-miru-han-purple-600 focus:outline-none rounded cursor-pointer\" onClick={() => editProjectData ? handleEdit() : handleSubmit()}>{editProjectData ? \" SAVE CHANGES\" : \"ADD PROJECT\"}</button>\n                : <button type=\"submit\" className=\"tracking-widest h-10 w-full flex justify-center py-1 px-4 border border-transparent shadow-sm text-base font-sans font-medium text-miru-white-1000 bg-miru-gray-1000 focus:outline-none rounded cursor-pointer\" disabled>{editProjectData ? \"SAVE CHANGES\" : \"ADD PROJECT\"}</button>\n              }\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nAddEditProject.defaultProps = {\n  projectData: null\n};\n\nexport default AddEditProject;\n"]},"metadata":{},"sourceType":"module"}