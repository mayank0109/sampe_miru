{"ast":null,"code":"var _jsxFileName = \"/app/app/javascript/src/components/time-tracking/Index.tsx\",\n    _this = this;\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nvar logger = require(\"js-logger\").get(\"@saeloun/miru-web:javascript:src:components:time-tracking:Index.tsx\");\n\n/* eslint-disable no-unexpected-multiline */\nimport React from \"react\";\nimport { ToastContainer } from \"react-toastify\";\nimport * as dayjs from \"dayjs\";\nimport * as updateLocale from \"dayjs/plugin/updateLocale\";\nimport * as weekday from \"dayjs/plugin/weekday\";\nimport AddEntry from \"./AddEntry\";\nimport DatesInWeek from \"./DatesInWeek\";\nimport EntryCard from \"./EntryCard\";\nimport MonthCalender from \"./MonthCalender\";\nimport WeeklyEntries from \"./WeeklyEntries\";\nimport { setAuthHeaders, registerIntercepts } from \"../../apis/axios\";\nimport timesheetEntryApi from \"../../apis/timesheet-entry\";\nimport { TOASTER_DURATION } from \"../../constants/index\";\nimport { minutesToHHMM } from \"../../helpers/hhmm-parser\";\nvar useState = React.useState,\n    useEffect = React.useEffect;\ndayjs.extend(updateLocale);\ndayjs.extend(weekday);\nvar monthsAbbr = \"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec\".split(\"_\");\ndayjs.updateLocale(\"en\", {\n  monthShort: monthsAbbr\n}); // Day start from monday\n\ndayjs.Ls.en.weekStart = 1;\n\nvar TimeTracking = function TimeTracking(_ref) {\n  var clients = _ref.clients,\n      projects = _ref.projects,\n      entries = _ref.entries,\n      isAdmin = _ref.isAdmin,\n      userId = _ref.userId,\n      employees = _ref.employees;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      dayInfo = _useState2[0],\n      setDayInfo = _useState2[1];\n\n  var _useState3 = useState(\"day\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      view = _useState4[0],\n      setView = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      newEntryView = _useState6[0],\n      setNewEntryView = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      newRowView = _useState8[0],\n      setNewRowView = _useState8[1];\n\n  var _useState9 = useState(dayjs().weekday()),\n      _useState10 = _slicedToArray(_useState9, 2),\n      selectDate = _useState10[0],\n      setSelectDate = _useState10[1];\n\n  var _useState11 = useState(0),\n      _useState12 = _slicedToArray(_useState11, 2),\n      weekDay = _useState12[0],\n      setWeekDay = _useState12[1];\n\n  var _useState13 = useState(\"00:00\"),\n      _useState14 = _slicedToArray(_useState13, 2),\n      weeklyTotalHours = _useState14[0],\n      setWeeklyTotalHours = _useState14[1];\n\n  var _useState15 = useState([]),\n      _useState16 = _slicedToArray(_useState15, 2),\n      dailyTotalHours = _useState16[0],\n      setDailyTotalHours = _useState16[1];\n\n  var _useState17 = useState(entries),\n      _useState18 = _slicedToArray(_useState17, 2),\n      entryList = _useState18[0],\n      setEntryList = _useState18[1];\n\n  var _useState19 = useState(dayjs().format(\"YYYY-MM-DD\")),\n      _useState20 = _slicedToArray(_useState19, 2),\n      selectedFullDate = _useState20[0],\n      setSelectedFullDate = _useState20[1];\n\n  var _useState21 = useState(0),\n      _useState22 = _slicedToArray(_useState21, 2),\n      editEntryId = _useState22[0],\n      setEditEntryId = _useState22[1];\n\n  var _useState23 = useState([]),\n      _useState24 = _slicedToArray(_useState23, 2),\n      weeklyData = _useState24[0],\n      setWeeklyData = _useState24[1];\n\n  var _useState25 = useState(false),\n      _useState26 = _slicedToArray(_useState25, 2),\n      isWeeklyEditing = _useState26[0],\n      setIsWeeklyEditing = _useState26[1];\n\n  var _useState27 = useState(userId),\n      _useState28 = _slicedToArray(_useState27, 2),\n      selectedEmployeeId = _useState28[0],\n      setSelectedEmployeeId = _useState28[1];\n\n  var _useState29 = useState({}),\n      _useState30 = _slicedToArray(_useState29, 2),\n      allEmployeesEntries = _useState30[0],\n      setAllEmployeesEntries = _useState30[1]; // sorting by client's name\n\n\n  clients.sort(function (a, b) {\n    return a[\"name\"].localeCompare(b[\"name\"]);\n  });\n  useEffect(function () {\n    setAuthHeaders();\n    registerIntercepts();\n    var currentEmployeeEntries = {};\n    currentEmployeeEntries[userId] = entries;\n    setAllEmployeesEntries(currentEmployeeEntries);\n  }, []);\n  useEffect(function () {\n    handleWeekInfo();\n  }, [weekDay]);\n  useEffect(function () {\n    if (view === \"month\") return;\n    parseWeeklyViewData();\n    calculateTotalHours();\n  }, [weekDay, entryList]);\n  useEffect(function () {\n    setIsWeeklyEditing(false);\n  }, [view]);\n  useEffect(function () {\n    setSelectedFullDate(dayjs().weekday(weekDay + selectDate).format(\"YYYY-MM-DD\"));\n  }, [selectDate, weekDay]);\n  useEffect(function () {\n    if (dayInfo.length <= 0) return;\n    fetchEntries(dayjs(dayInfo[0][\"fullDate\"]).startOf(\"month\").subtract(1, \"month\").format(\"DD-MM-YYYY\"), dayjs(dayInfo[0][\"fullDate\"]).endOf(\"month\").add(1, \"month\").format(\"DD-MM-YYYY\"));\n    if (allEmployeesEntries[selectedEmployeeId]) setEntryList(allEmployeesEntries[selectedEmployeeId]);\n  }, [selectedEmployeeId]);\n\n  var handleWeekTodayButton = function handleWeekTodayButton() {\n    setSelectDate(0);\n    setWeekDay(dayjs().weekday());\n  };\n\n  var handleWeekInfo = function handleWeekInfo() {\n    var daysInWeek = Array.from(Array(7).keys()).map(function (weekCounter) {\n      var _dayjs$weekday$$d$toS = dayjs().weekday(weekCounter + weekDay)[\"$d\"].toString().split(\" \"),\n          _dayjs$weekday$$d$toS2 = _slicedToArray(_dayjs$weekday$$d$toS, 4),\n          day = _dayjs$weekday$$d$toS2[0],\n          month = _dayjs$weekday$$d$toS2[1],\n          date = _dayjs$weekday$$d$toS2[2],\n          year = _dayjs$weekday$$d$toS2[3];\n\n      var fullDate = dayjs().weekday(weekCounter + weekDay).format(\"YYYY-MM-DD\");\n      return {\n        day: day,\n        month: month,\n        date: date,\n        year: year,\n        fullDate: fullDate\n      };\n    });\n    setDayInfo(function () {\n      return daysInWeek;\n    });\n  };\n\n  var fetchEntries = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(from, to) {\n      var res, ns;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return timesheetEntryApi.list(from, to, selectedEmployeeId);\n\n            case 2:\n              res = _context.sent;\n\n              if (!(res.status >= 200 && res.status < 300)) {\n                _context.next = 11;\n                break;\n              }\n\n              ns = _objectSpread({}, allEmployeesEntries);\n              ns[selectedEmployeeId] = _objectSpread(_objectSpread({}, ns[selectedEmployeeId]), res.data.entries);\n              setAllEmployeesEntries(ns);\n              setEntryList(ns[selectedEmployeeId]);\n              return _context.abrupt(\"return\", true);\n\n            case 11:\n              return _context.abrupt(\"return\", false);\n\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function fetchEntries(_x, _x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var handleDeleteEntry = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id) {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return timesheetEntryApi.destroy(id);\n\n            case 2:\n              res = _context2.sent;\n\n              if (res.status === 200) {\n                _context2.next = 5;\n                break;\n              }\n\n              return _context2.abrupt(\"return\");\n\n            case 5:\n              setEntryList(function (pv) {\n                var nv = _objectSpread({}, pv);\n\n                nv[selectedFullDate] = nv[selectedFullDate].filter(function (e) {\n                  return e.id !== id;\n                });\n                return nv;\n              });\n\n            case 6:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function handleDeleteEntry(_x3) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var calculateTotalHours = function calculateTotalHours() {\n    var total = 0;\n    var dailyTotal = [];\n\n    for (var weekCounter = 0; weekCounter < 7; weekCounter++) {\n      var day = dayjs().weekday(weekCounter + weekDay).format(\"YYYY-MM-DD\");\n\n      if (entryList[day]) {\n        var dayTotal = 0;\n        entryList[day].forEach(function (e) {\n          dayTotal += e.duration;\n        });\n        dailyTotal.push(minutesToHHMM(dayTotal));\n        total += dayTotal;\n      } else {\n        dailyTotal.push(\"00:00\");\n      }\n    }\n\n    setDailyTotalHours(dailyTotal);\n    setWeeklyTotalHours(minutesToHHMM(total));\n  };\n\n  var handleNextWeek = function handleNextWeek() {\n    setWeekDay(function (p) {\n      return p + 7;\n    });\n    var from = dayjs().weekday(weekDay + 7).format(\"YYYY-MM-DD\");\n    var to = dayjs().weekday(weekDay + 13).format(\"YYYY-MM-DD\");\n    fetchEntries(from, to);\n  };\n\n  var handlePrevWeek = function handlePrevWeek() {\n    setWeekDay(function (p) {\n      return p - 7;\n    });\n    var from = dayjs().weekday(weekDay - 7).format(\"YYYY-MM-DD\");\n    var to = dayjs().weekday(weekDay - 1).format(\"YYYY-MM-DD\");\n    fetchEntries(from, to);\n  };\n\n  var parseWeeklyViewData = function parseWeeklyViewData() {\n    var weekArr = [];\n\n    var _loop = function _loop(weekCounter) {\n      var date = dayjs().weekday(weekDay + weekCounter).format(\"YYYY-MM-DD\");\n      if (!entryList[date]) return \"continue\";\n      entryList[date].forEach(function (entry) {\n        var entryAdded = false;\n        weekArr.forEach(function (rowInfo) {\n          if (rowInfo[\"projectId\"] === entry[\"project_id\"] && !rowInfo[\"entries\"][weekCounter] && !entryAdded) {\n            rowInfo[\"entries\"][weekCounter] = entry;\n            entryAdded = true;\n          }\n\n          return rowInfo;\n        });\n        if (entryAdded) return;\n        var newRow = [];\n        newRow[weekCounter] = entry;\n        weekArr.push({\n          projectId: entry[\"project_id\"],\n          clientName: entry.client,\n          projectName: entry.project,\n          entries: newRow\n        });\n      });\n    };\n\n    for (var weekCounter = 0; weekCounter < 7; weekCounter++) {\n      var _ret = _loop(weekCounter);\n\n      if (_ret === \"continue\") continue;\n    }\n\n    setWeeklyData(function () {\n      return weekArr;\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ToastContainer, {\n    autoClose: TOASTER_DURATION,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mx-50 mt-6\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex justify-between\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"nav\", {\n    className: \"flex mb-6\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 11\n    }\n  }, [\"day\", \"week\", \"month\"].map(function (item) {\n    return /*#__PURE__*/React.createElement(\"button\", {\n      onClick: function onClick() {\n        return setView(item);\n      },\n      className: item === view ? \"mr-10 tracking-widest font-bold text-miru-han-purple-1000 border-b-2 border-miru-han-purple-1000\" : \"mr-10 tracking-widest font-medium text-miru-han-purple-600\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 15\n      }\n    }, item.toUpperCase());\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 11\n    }\n  }, isAdmin && /*#__PURE__*/React.createElement(\"select\", {\n    value: selectedEmployeeId,\n    onChange: function onChange(e) {\n      return setSelectedEmployeeId(Number(e.target.value));\n    },\n    className: \"items-center \",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 15\n    }\n  }, employees.map(function (employee) {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      value: employee[\"id\"],\n      className: \"text-miru-han-purple-1000\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 21\n      }\n    }, employee[\"first_name\"] + \" \" + employee[\"last_name\"]);\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 9\n    }\n  }, view === \"month\" ? /*#__PURE__*/React.createElement(MonthCalender, {\n    fetchEntries: fetchEntries,\n    selectedEmployeeId: selectedEmployeeId,\n    dayInfo: dayInfo,\n    selectedFullDate: selectedFullDate,\n    setSelectedFullDate: setSelectedFullDate,\n    entryList: entryList,\n    setEntryList: setEntryList,\n    handleWeekTodayButton: handleWeekTodayButton,\n    monthsAbbr: monthsAbbr,\n    setWeekDay: setWeekDay,\n    setSelectDate: setSelectDate,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 15\n    }\n  }) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-6\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex justify-between items-center bg-miru-han-purple-1000 h-10 w-full\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: function onClick() {\n      setWeekDay(0);\n      setSelectDate(dayjs().weekday());\n    },\n    className: \"flex items-center justify-center text-white tracking-widest border-2 rounded h-6 w-20 text-xs font-bold ml-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 19\n    }\n  }, \"TODAY\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handlePrevWeek,\n    className: \"text-white border-2 h-6 w-6 rounded-xl flex flex-col items-center justify-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 21\n    }\n  }, \"<\"), !!dayInfo.length && /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-white mx-6 w-40\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 23\n    }\n  }, dayInfo[0][\"date\"], \" \", dayInfo[0].month, \" -\", \" \", dayInfo[6][\"date\"], \" \", dayInfo[6][\"month\"], \" \", dayInfo[6][\"year\"]), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleNextWeek,\n    className: \"text-white border-2 h-6 w-6 rounded-xl flex flex-col items-center justify-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 21\n    }\n  }, \">\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex mr-12\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 310,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-white mr-2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 21\n    }\n  }, \"Total\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-white font-extrabold\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 21\n    }\n  }, view === \"week\" ? weeklyTotalHours : dailyTotalHours[selectDate]))), /*#__PURE__*/React.createElement(DatesInWeek, {\n    view: view,\n    dayInfo: dayInfo,\n    selectDate: selectDate,\n    setSelectDate: setSelectDate,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 17\n    }\n  })), !editEntryId && newEntryView && view !== \"week\" && /*#__PURE__*/React.createElement(AddEntry, {\n    selectedEmployeeId: selectedEmployeeId,\n    fetchEntries: fetchEntries,\n    setNewEntryView: setNewEntryView,\n    clients: clients,\n    projects: projects,\n    selectedDateInfo: dayInfo[selectDate],\n    selectedFullDate: selectedFullDate,\n    setEntryList: setEntryList,\n    entryList: entryList,\n    setEditEntryId: setEditEntryId,\n    editEntryId: editEntryId,\n    dayInfo: dayInfo,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 324,\n      columnNumber: 13\n    }\n  }), view !== \"week\" && !newEntryView && /*#__PURE__*/React.createElement(\"button\", {\n    onClick: function onClick() {\n      setNewEntryView(true);\n      setEditEntryId(0);\n    },\n    className: \"h-14 w-full border-2 p-4 border-miru-han-purple-600 text-miru-han-purple-600 font-bold text-lg tracking-widest\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 340,\n      columnNumber: 13\n    }\n  }, \"+ NEW ENTRY\"), view === \"week\" && !newRowView && /*#__PURE__*/React.createElement(\"button\", {\n    onClick: function onClick() {\n      return setNewRowView(true);\n    },\n    className: \"h-14 w-full border-2 p-4 border-miru-han-purple-600 text-miru-han-purple-600 font-bold text-lg tracking-widest\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 350,\n      columnNumber: 13\n    }\n  }, \"+ NEW ROW\"), view === \"week\" && newRowView && /*#__PURE__*/React.createElement(WeeklyEntries, {\n    key: 0,\n    entries: [],\n    clients: clients,\n    projects: projects,\n    newRowView: newRowView,\n    entryList: entryList,\n    setEntryList: setEntryList,\n    setNewRowView: setNewRowView,\n    clientName: \"\",\n    projectName: \"\",\n    dayInfo: dayInfo,\n    projectId: null,\n    isWeeklyEditing: isWeeklyEditing,\n    setIsWeeklyEditing: setIsWeeklyEditing,\n    weeklyData: weeklyData,\n    setWeeklyData: setWeeklyData,\n    parseWeeklyViewData: parseWeeklyViewData,\n    selectedEmployeeId: selectedEmployeeId,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 359,\n      columnNumber: 13\n    }\n  })), view !== \"week\" && entryList[selectedFullDate] && entryList[selectedFullDate].map(function (entry, weekCounter) {\n    return editEntryId === entry.id ? /*#__PURE__*/React.createElement(AddEntry, {\n      selectedEmployeeId: selectedEmployeeId,\n      fetchEntries: fetchEntries,\n      setNewEntryView: setNewEntryView,\n      clients: clients,\n      projects: projects,\n      selectedDateInfo: dayInfo[selectDate],\n      selectedFullDate: selectedFullDate,\n      setEntryList: setEntryList,\n      entryList: entryList,\n      setEditEntryId: setEditEntryId,\n      editEntryId: editEntryId,\n      dayInfo: dayInfo,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 387,\n        columnNumber: 15\n      }\n    }) : /*#__PURE__*/React.createElement(EntryCard, Object.assign({\n      key: weekCounter,\n      handleDeleteEntry: handleDeleteEntry,\n      setEditEntryId: setEditEntryId\n    }, entry, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 402,\n        columnNumber: 15\n      }\n    }));\n  }), view === \"week\" && /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 413,\n      columnNumber: 11\n    }\n  }, weeklyData.map(function (entry, weekCounter) {\n    return /*#__PURE__*/React.createElement(WeeklyEntries, Object.assign({\n      key: weekCounter + 1\n    }, entry, {\n      setEntryList: setEntryList,\n      clients: clients,\n      projects: projects,\n      newRowView: newRowView,\n      entryList: entryList,\n      setNewRowView: setNewRowView,\n      dayInfo: dayInfo,\n      isWeeklyEditing: isWeeklyEditing,\n      setIsWeeklyEditing: setIsWeeklyEditing,\n      parseWeeklyViewData: parseWeeklyViewData,\n      selectedEmployeeId: selectedEmployeeId,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 415,\n        columnNumber: 15\n      }\n    }));\n  }))));\n};\n\nexport default TimeTracking;","map":{"version":3,"sources":["/app/app/javascript/src/components/time-tracking/Index.tsx"],"names":["React","ToastContainer","dayjs","updateLocale","weekday","AddEntry","DatesInWeek","EntryCard","MonthCalender","WeeklyEntries","setAuthHeaders","registerIntercepts","timesheetEntryApi","TOASTER_DURATION","minutesToHHMM","useState","useEffect","extend","monthsAbbr","split","monthShort","Ls","en","weekStart","TimeTracking","clients","projects","entries","isAdmin","userId","employees","dayInfo","setDayInfo","view","setView","newEntryView","setNewEntryView","newRowView","setNewRowView","selectDate","setSelectDate","weekDay","setWeekDay","weeklyTotalHours","setWeeklyTotalHours","dailyTotalHours","setDailyTotalHours","entryList","setEntryList","format","selectedFullDate","setSelectedFullDate","editEntryId","setEditEntryId","weeklyData","setWeeklyData","isWeeklyEditing","setIsWeeklyEditing","selectedEmployeeId","setSelectedEmployeeId","allEmployeesEntries","setAllEmployeesEntries","sort","a","b","localeCompare","currentEmployeeEntries","handleWeekInfo","parseWeeklyViewData","calculateTotalHours","length","fetchEntries","startOf","subtract","endOf","add","handleWeekTodayButton","daysInWeek","Array","from","keys","map","weekCounter","toString","day","month","date","year","fullDate","to","list","res","status","ns","data","handleDeleteEntry","id","destroy","pv","nv","filter","e","total","dailyTotal","dayTotal","forEach","duration","push","handleNextWeek","p","handlePrevWeek","weekArr","entry","entryAdded","rowInfo","newRow","projectId","clientName","client","projectName","project","item","toUpperCase","Number","target","value","employee"],"mappings":"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","sourcesContent":["/* eslint-disable no-unexpected-multiline */\nimport React from \"react\";\nimport { ToastContainer } from \"react-toastify\";\nimport * as dayjs from \"dayjs\";\nimport * as updateLocale from \"dayjs/plugin/updateLocale\";\nimport * as weekday from \"dayjs/plugin/weekday\";\nimport AddEntry from \"./AddEntry\";\nimport DatesInWeek from \"./DatesInWeek\";\nimport EntryCard from \"./EntryCard\";\nimport MonthCalender from \"./MonthCalender\";\nimport WeeklyEntries from \"./WeeklyEntries\";\nimport { setAuthHeaders, registerIntercepts } from \"../../apis/axios\";\nimport timesheetEntryApi from \"../../apis/timesheet-entry\";\nimport { TOASTER_DURATION } from \"../../constants/index\";\nimport { minutesToHHMM } from \"../../helpers/hhmm-parser\";\n\nconst { useState, useEffect } = React;\ndayjs.extend(updateLocale);\ndayjs.extend(weekday);\n\nconst monthsAbbr = \"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec\".split(\"_\");\ndayjs.updateLocale(\"en\", { monthShort: monthsAbbr });\n\n// Day start from monday\ndayjs.Ls.en.weekStart = 1;\n\nconst TimeTracking: React.FC<Iprops> = ({\n  clients,\n  projects,\n  entries,\n  isAdmin,\n  userId,\n  employees\n}) => {\n  const [dayInfo, setDayInfo] = useState<any[]>([]);\n  const [view, setView] = useState<string>(\"day\");\n  const [newEntryView, setNewEntryView] = useState<boolean>(false);\n  const [newRowView, setNewRowView] = useState<boolean>(false);\n  const [selectDate, setSelectDate] = useState<number>(dayjs().weekday());\n  const [weekDay, setWeekDay] = useState<number>(0);\n  const [weeklyTotalHours, setWeeklyTotalHours] = useState<string>(\"00:00\");\n  const [dailyTotalHours, setDailyTotalHours] = useState<number[]>([]);\n  const [entryList, setEntryList] = useState<object>(entries);\n  const [selectedFullDate, setSelectedFullDate] = useState<string>(\n    dayjs().format(\"YYYY-MM-DD\")\n  );\n  const [editEntryId, setEditEntryId] = useState<number>(0);\n  const [weeklyData, setWeeklyData] = useState<any[]>([]);\n  const [isWeeklyEditing, setIsWeeklyEditing] = useState<boolean>(false);\n  const [selectedEmployeeId, setSelectedEmployeeId] = useState<number>(userId);\n  const [allEmployeesEntries, setAllEmployeesEntries] = useState<object>({});\n\n  // sorting by client's name\n  clients.sort((a: object, b: object) => a[\"name\"].localeCompare(b[\"name\"]));\n\n  useEffect(() => {\n    setAuthHeaders();\n    registerIntercepts();\n    const currentEmployeeEntries = {};\n    currentEmployeeEntries[userId] = entries;\n    setAllEmployeesEntries(currentEmployeeEntries);\n  }, []);\n\n  useEffect(() => {\n    handleWeekInfo();\n  }, [weekDay]);\n\n  useEffect(() => {\n    if (view === \"month\") return;\n    parseWeeklyViewData();\n    calculateTotalHours();\n  }, [weekDay, entryList]);\n\n  useEffect(() => {\n    setIsWeeklyEditing(false);\n  }, [view]);\n\n  useEffect(() => {\n    setSelectedFullDate(\n      dayjs()\n        .weekday(weekDay + selectDate)\n        .format(\"YYYY-MM-DD\")\n    );\n  }, [selectDate, weekDay]);\n\n  useEffect(() => {\n    if (dayInfo.length <= 0) return;\n\n    fetchEntries(\n      dayjs(dayInfo[0][\"fullDate\"]).startOf(\"month\").subtract(1, \"month\").format(\"DD-MM-YYYY\"),\n      dayjs(dayInfo[0][\"fullDate\"]).endOf(\"month\").add(1, \"month\").format(\"DD-MM-YYYY\"),\n    );\n\n    if (allEmployeesEntries[selectedEmployeeId]) setEntryList(allEmployeesEntries[selectedEmployeeId]);\n  }, [selectedEmployeeId]);\n\n  const handleWeekTodayButton = () => {\n    setSelectDate(0);\n    setWeekDay(dayjs().weekday());\n  };\n\n  const handleWeekInfo = () => {\n    const daysInWeek = Array.from(Array(7).keys()).map((weekCounter) => {\n      const [day, month, date, year] = dayjs()\n        .weekday(weekCounter + weekDay)\n        [\"$d\"].toString()\n        .split(\" \");\n      const fullDate = dayjs()\n        .weekday(weekCounter + weekDay)\n        .format(\"YYYY-MM-DD\");\n      return {\n        day: day,\n        month: month,\n        date: date,\n        year: year,\n        fullDate: fullDate\n      };\n    });\n    setDayInfo(() => daysInWeek);\n  };\n\n  const fetchEntries = async (from: string, to: string) => {\n    const res = await timesheetEntryApi.list(from, to, selectedEmployeeId);\n    if (res.status >= 200 && res.status < 300) {\n      const ns = { ...allEmployeesEntries };\n      ns[selectedEmployeeId] = { ...ns[selectedEmployeeId], ...res.data.entries };\n      setAllEmployeesEntries(ns);\n      setEntryList(ns[selectedEmployeeId]);\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  const handleDeleteEntry = async id => {\n    const res = await timesheetEntryApi.destroy(id);\n    if (!(res.status === 200)) return;\n    setEntryList(pv => {\n      const nv = { ...pv };\n      nv[selectedFullDate] = nv[selectedFullDate].filter(e => e.id !== id);\n      return nv;\n    });\n  };\n\n  const calculateTotalHours = () => {\n    let total = 0;\n    const dailyTotal = [];\n    for (let weekCounter = 0; weekCounter < 7; weekCounter++) {\n      const day = dayjs()\n        .weekday(weekCounter + weekDay)\n        .format(\"YYYY-MM-DD\");\n      if (entryList[day]) {\n        let dayTotal = 0;\n        entryList[day].forEach(e => {\n          dayTotal += e.duration;\n        });\n        dailyTotal.push(minutesToHHMM(dayTotal));\n        total += dayTotal;\n      } else {\n        dailyTotal.push(\"00:00\");\n      }\n    }\n    setDailyTotalHours(dailyTotal);\n    setWeeklyTotalHours(minutesToHHMM(total));\n  };\n\n  const handleNextWeek = () => {\n    setWeekDay(p => p + 7);\n    const from = dayjs()\n      .weekday(weekDay + 7)\n      .format(\"YYYY-MM-DD\");\n    const to = dayjs()\n      .weekday(weekDay + 13)\n      .format(\"YYYY-MM-DD\");\n    fetchEntries(from, to);\n  };\n\n  const handlePrevWeek = () => {\n    setWeekDay(p => p - 7);\n    const from = dayjs()\n      .weekday(weekDay - 7)\n      .format(\"YYYY-MM-DD\");\n    const to = dayjs()\n      .weekday(weekDay - 1)\n      .format(\"YYYY-MM-DD\");\n    fetchEntries(from, to);\n  };\n\n  const parseWeeklyViewData = () => {\n    const weekArr = [];\n    for (let weekCounter = 0; weekCounter < 7; weekCounter++) {\n      const date = dayjs()\n        .weekday(weekDay + weekCounter)\n        .format(\"YYYY-MM-DD\");\n\n      if (!entryList[date]) continue;\n\n      entryList[date].forEach(entry => {\n        let entryAdded = false;\n        weekArr.forEach(rowInfo => {\n          if (\n            rowInfo[\"projectId\"] === entry[\"project_id\"] &&\n            !rowInfo[\"entries\"][weekCounter] &&\n            !entryAdded\n          ) {\n            rowInfo[\"entries\"][weekCounter] = entry;\n            entryAdded = true;\n          }\n          return rowInfo;\n        });\n\n        if (entryAdded) return;\n        const newRow = [];\n        newRow[weekCounter] = entry;\n        weekArr.push({\n          projectId: entry[\"project_id\"],\n          clientName: entry.client,\n          projectName: entry.project,\n          entries: newRow\n        });\n      });\n    }\n\n    setWeeklyData(() => weekArr);\n  };\n\n  return (\n    <>\n      <ToastContainer autoClose={TOASTER_DURATION} />\n      <div className=\"mx-50 mt-6\">\n        <div className=\"flex justify-between\">\n          <nav className=\"flex mb-6\">\n            {[\"day\", \"week\", \"month\"].map(item => (\n              <button\n                onClick={() => setView(item)}\n                className={\n                  item === view\n                    ? \"mr-10 tracking-widest font-bold text-miru-han-purple-1000 border-b-2 border-miru-han-purple-1000\"\n                    : \"mr-10 tracking-widest font-medium text-miru-han-purple-600\"\n                }\n              >\n                {item.toUpperCase()}\n              </button>\n            ))}\n          </nav>\n          <div>\n            {isAdmin && (\n              <select value={selectedEmployeeId} onChange={(e) => setSelectedEmployeeId(Number(e.target.value))} className=\"items-center \">\n                {\n                  employees.map(employee =>\n                    <option value={employee[\"id\"]} className=\"text-miru-han-purple-1000\">\n                      {employee[\"first_name\"] + \" \" + employee[\"last_name\"]}\n                    </option>\n                  )\n                }\n              </select>\n            )}\n          </div>\n        </div>\n\n        <div>\n          {\n            view === \"month\" ?\n              <MonthCalender\n                fetchEntries={fetchEntries}\n                selectedEmployeeId={selectedEmployeeId}\n                dayInfo={dayInfo}\n                selectedFullDate={selectedFullDate}\n                setSelectedFullDate={setSelectedFullDate}\n                entryList={entryList}\n                setEntryList={setEntryList}\n                handleWeekTodayButton={handleWeekTodayButton}\n                monthsAbbr={monthsAbbr}\n                setWeekDay={setWeekDay}\n                setSelectDate={setSelectDate}\n              />\n              :\n              <div className=\"mb-6\">\n                <div className=\"flex justify-between items-center bg-miru-han-purple-1000 h-10 w-full\">\n                  <button\n                    onClick={() => {\n                      setWeekDay(0);\n                      setSelectDate(dayjs().weekday());\n                    }}\n                    className=\"flex items-center justify-center text-white tracking-widest border-2 rounded h-6 w-20 text-xs font-bold ml-4\"\n                  >\n                  TODAY\n                  </button>\n                  <div className=\"flex\">\n                    <button\n                      onClick={handlePrevWeek}\n                      className=\"text-white border-2 h-6 w-6 rounded-xl flex flex-col items-center justify-center\"\n                    >\n                      &lt;\n                    </button>\n                    {!!dayInfo.length && (\n                      <p className=\"text-white mx-6 w-40\">\n                        {dayInfo[0][\"date\"]} {dayInfo[0].month} -{\" \"}\n                        {dayInfo[6][\"date\"]} {dayInfo[6][\"month\"]}{\" \"}\n                        {dayInfo[6][\"year\"]}\n                      </p>\n                    )}\n                    <button\n                      onClick={handleNextWeek}\n                      className=\"text-white border-2 h-6 w-6 rounded-xl flex flex-col items-center justify-center\"\n                    >\n                      &gt;\n                    </button>\n                  </div>\n                  <div className=\"flex mr-12\">\n                    <p className=\"text-white mr-2\">Total</p>\n                    <p className=\"text-white font-extrabold\">{ view === \"week\" ? weeklyTotalHours : dailyTotalHours[selectDate] }</p>\n                  </div>\n                </div>\n                <DatesInWeek\n                  view={view}\n                  dayInfo={dayInfo}\n                  selectDate={selectDate}\n                  setSelectDate={setSelectDate}\n                />\n              </div>\n          }\n          {!editEntryId && newEntryView && view !== \"week\" && (\n            <AddEntry\n              selectedEmployeeId={selectedEmployeeId}\n              fetchEntries={fetchEntries}\n              setNewEntryView={setNewEntryView}\n              clients={clients}\n              projects={projects}\n              selectedDateInfo={dayInfo[selectDate]}\n              selectedFullDate={selectedFullDate}\n              setEntryList={setEntryList}\n              entryList={entryList}\n              setEditEntryId={setEditEntryId}\n              editEntryId={editEntryId}\n              dayInfo={dayInfo}\n            />\n          )}\n          {view !== \"week\" && !newEntryView && (\n            <button\n              onClick={() => {setNewEntryView(true); setEditEntryId(0); }}\n              className=\"h-14 w-full border-2 p-4 border-miru-han-purple-600 text-miru-han-purple-600 font-bold text-lg tracking-widest\"\n            >\n                + NEW ENTRY\n            </button>\n          )}\n\n          {/* --- weekly view --- */}\n          {view === \"week\" && !newRowView && (\n            <button\n              onClick={() => setNewRowView(true)}\n              className=\"h-14 w-full border-2 p-4 border-miru-han-purple-600 text-miru-han-purple-600 font-bold text-lg tracking-widest\"\n            >\n                + NEW ROW\n            </button>\n          )}\n\n          {view === \"week\" && newRowView && (\n            <WeeklyEntries\n              key={0}\n              entries={[]}\n              clients={clients}\n              projects={projects}\n              newRowView={newRowView}\n              entryList={entryList}\n              setEntryList={setEntryList}\n              setNewRowView={setNewRowView}\n              clientName={\"\"}\n              projectName={\"\"}\n              dayInfo={dayInfo}\n              projectId={null}\n              isWeeklyEditing={isWeeklyEditing}\n              setIsWeeklyEditing={setIsWeeklyEditing}\n              weeklyData={weeklyData}\n              setWeeklyData={setWeeklyData}\n              parseWeeklyViewData={parseWeeklyViewData}\n              selectedEmployeeId={selectedEmployeeId}\n            />\n          )}\n        </div>\n\n        {/* entry cards for day and month */}\n        {view !== \"week\" &&\n          entryList[selectedFullDate] &&\n          entryList[selectedFullDate].map((entry, weekCounter) =>\n            editEntryId === entry.id ? (\n              <AddEntry\n                selectedEmployeeId={selectedEmployeeId}\n                fetchEntries={fetchEntries}\n                setNewEntryView={setNewEntryView}\n                clients={clients}\n                projects={projects}\n                selectedDateInfo={dayInfo[selectDate]}\n                selectedFullDate={selectedFullDate}\n                setEntryList={setEntryList}\n                entryList={entryList}\n                setEditEntryId={setEditEntryId}\n                editEntryId={editEntryId}\n                dayInfo={dayInfo}\n              />\n            ) : (\n              <EntryCard\n                key={weekCounter}\n                handleDeleteEntry={handleDeleteEntry}\n                setEditEntryId={setEditEntryId}\n                {...entry}\n              />\n            )\n          )}\n\n        {/* entry cards for week */}\n        {view === \"week\" && (\n          <div>\n            {weeklyData.map((entry, weekCounter) => (\n              <WeeklyEntries\n                key={weekCounter + 1}\n                {...entry}\n                setEntryList={setEntryList}\n                clients={clients}\n                projects={projects}\n                newRowView={newRowView}\n                entryList={entryList}\n                setNewRowView={setNewRowView}\n                dayInfo={dayInfo}\n                isWeeklyEditing={isWeeklyEditing}\n                setIsWeeklyEditing={setIsWeeklyEditing}\n                parseWeeklyViewData={parseWeeklyViewData}\n                selectedEmployeeId={selectedEmployeeId}\n              />\n            ))}\n          </div>\n        )}\n      </div>\n    </>\n  );\n};\n\ninterface Iprops {\n  clients: [];\n  projects: object;\n  entries: object;\n  isAdmin: boolean;\n  userId: number;\n  employees: [];\n}\n\nexport default TimeTracking;\n"]},"metadata":{},"sourceType":"module"}